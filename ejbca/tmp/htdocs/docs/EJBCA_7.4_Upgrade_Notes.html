<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>EJBCA 7.4 Upgrade Notes - EJBCA - Documentation Space</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="108530570">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_7.4.3.2_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=85918476"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_7.4.3.2_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Release_Information.html">EJBCA Release Information</a></li>
                                                                                     <li><a href="EJBCA_Upgrade_Notes.html">EJBCA Upgrade Notes</a></li>
                                                            </ul>
</div>            <h1 id="src-85918476"> <span>EJBCA 7.4 Upgrade Notes</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p  class="p1" 
>Below are important changes and requirements when upgrading from EJBCA 7.3 to EJBCA 7.4. For upgrade instructions and information on upgrade paths, see <a   href="Upgrading_EJBCA.html">Upgrading EJBCA</a>. For details of the new features and improvements in this release, see the <a   href="EJBCA_7.4_Release_Notes.html">EJBCA 7.4 Release Notes</a>.</p>
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-RequiredProcedures">Required Procedures</a></p>
</li><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-DatabaseChanges">Database Changes</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-NewTableOCSPResponseData">New Table OCSPResponseData</a></p>
</li><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-NewIndexesforCRLData">New Indexes for CRLData</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-BehavioralChanges">Behavioral Changes</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-StricterCertificateExtensionsCheck">Stricter Certificate Extensions Check</a></p>
</li><li class=" "><p   
><a   href="#src-85918476_safe-id-aWQtLkVKQkNBNy40VXBncmFkZU5vdGVzdjcuNC4wLUNBL0JGb3J1bU9yZ0lEQ2hlY2tpbkV4dGVybmFsUmVxdWVzdA">CA/B Forum OrgID Check in External Request</a></p>
</li><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-SCEPSecurityFix-MoreRestrictiveCAAccess">SCEP Security Fix - More Restrictive CA Access</a></p>
</li><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-IgnoringEmptyDefaultCAIssuersURIRegardlessofhowCAwasCreated">Ignoring Empty Default CA Issuers URI Regardless of how CA was Created</a></p>
</li><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-SCEPFailureReturnCodesmodified">SCEP Failure Return Codes modified</a></p>
</li><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-RFC5019CacheHeadersaddedtoPOST">RFC 5019 Cache Headers added to POST</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-PostUpgrade">Post Upgrade</a></p>
</li></ul>    <div class="section section-1" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-RequiredProcedures">
        <h1 class="heading "><span>Required Procedures</span></h1>
<p   
>In versions of EJBCA prior to 7.4.0, the Request Processors (as defined by the <i class=" ">org.cesecore.certificates.ca.ExtendedUserDataHandler</i> interface) were defined by setting them as the     <span style="color: #172b4d;">
<i class=" ">certreqhandler.class</i> property for individual CMP aliases. In EJBCA 7.4.0, use of Request Processors has been extended to the REST and WS APIs as well, and thus their configuration moved to individual CAs instead. This change can't be made automatically, so to keep using Request Processors on existing installations, use the following procedure to maintain 100% uptime:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #172b4d;">
Upgrade EJBCA on all existing nodes in a cluster but do not yet run <strong class=" ">post-upgrade</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #172b4d;">
On each CA meant to use <strong class=" ">Request Processors</strong>, edit that CA and choose the used implementation:<br/><img  class="confluence-embedded-image"  src="images/download/attachments/85918476/Screenshot_2020-04-14_at_18.33.48.png" alt="images/download/attachments/85918476/Screenshot_2020-04-14_at_18.33.48.png" width="600"  />
    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #172b4d;">
After all CAs have been configured, run <strong class=" ">post-upgrade</strong> in order to remove the vestigial property from the CMP aliases.<br/>    </span>
</p>
</li></ol>    </div>
    <div class="section section-1" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-DatabaseChanges">
        <h1 class="heading "><span>Database Changes</span></h1>
    <div class="section section-2" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-NewTableOCSPResponseData">
        <h2 class="heading "><span>New Table OCSPResponseData</span></h2>
<p   
>EJBCA 7.4 contains a new table called <tt class=" ">OCSPResponseData</tt> for storing <a   href="OCSP_Response_Pre-Production.html">canned OCSP responses</a>.</p>
<p   
>This table is created automatically by Hibernate when EJBCA 7.4 is deployed for the first time. However, if the database user is not granted <tt class=" ">CREATE TABLE</tt> privileges, you need to add this table manually before deploying EJBCA. SQL scripts for adding this table are located in <tt class=" ">doc/sql-scripts/</tt>.</p>
<p   
>Also, add the new indexes manually as follows:</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">CREATE INDEX ocspresponsedata_idx1 ON OcspResponseData (cAId);</code></div>
<div class="line"><code class="plain">CREATE INDEX ocspresponsedata_idx2 ON OcspResponseData (serialNumber);</code></div>
<div class="line"><code class="plain">CREATE INDEX ocspresponsedata_idx3 ON OcspResponseData (nextUpdate);</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-NewIndexesforCRLData">
        <h2 class="heading "><span>New Indexes for CRLData</span></h2>
<p   
>Since the introduction of <a   href="Partitioned_CRLs.html">partitioned CRLs</a> in <a   href="EJBCA_7.1_Release_Notes.html">EJBCA 7.1.0</a>, it has come to our attention that the default index recommendations in <tt class=" ">doc/sql-scripts/create-index-ejbca.sql</tt> no longer work if partitioned CRLs is enabled for a CA. See <a  class="external-link" href="https://jira.primekey.se/browse/ECA-8680">ECA-8680</a> for more information.</p>
<p   
>To fix this, EJBCA will attempt to modify existing indexes during a post-upgrade to EJBCA 7.4.0 as shown in the table below:</p>
    <div  class="tablewrap">
        <table class="wrapped relative-table confluenceTable">
                    <colgroup>
                                    <col  width="29%"/>
                                    <col  width="11%"/>
                                    <col  width="58%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Operation carried out during a post-upgrade to EJBCA 7.4.0</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Name of index</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>SQL query</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Remove index if it exists</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>crldata_idx3</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>DROP INDEX IF EXISTS crldata_idx3 ON CRLData;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Remove index if it exists</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>crldata_idx4</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>DROP INDEX IF EXISTS crldata_idx4 ON CRLData;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Create new index unless it already exists</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>crldata_idx5</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CREATE INDEX IF NOT EXISTS crldata_idx5 ON CRLData(cRLNumber, issuerDN, crlPartitionIndex);</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Create new index unless it already exists</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>crldata_idx6</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CREATE UNIQUE INDEX IF NOT EXISTS crldata_idx6 ON CRLData(issuerDN, crlPartitionIndex, deltaCRLIndicator, cRLNumber);</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
>If the EJBCA database user does not have sufficient permissions to modify these indexes, an error will be printed in the log but the post-upgrade will succeed. You can then modify these indexes manually.</p>
    </div>
    </div>
    <div class="section section-1" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-BehavioralChanges">
        <h1 class="heading "><span>Behavioral Changes</span></h1>
    <div class="section section-2" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-StricterCertificateExtensionsCheck">
        <h2 class="heading "><span>Stricter Certificate Extensions Check</span></h2>
<p   
>Earlier versions of EJBCA did not report any error when certificate extensions were present in an End Entity (for example in Web Service requests), but not allowed in the Certificate Profile. In this case, the disallowed certificate extensions were silently ignored.</p>
<p   
>Since the earlier behavior could potentially cause compliance issues, EJBCA will now report an error and abort issuance if the request contains an extension that is not allowed by the Certificate Profile.</p>
<p   
>This check is only performed when the certificate extensions are specified in the End Entity. There is no change to the behavior when certificate extensions are specified in a CSR. That is still controlled by the setting <strong class=" ">Allow extension override by CSR</strong>.</p>
    </div>
    <div class="section section-2" id="src-85918476_safe-id-aWQtLkVKQkNBNy40VXBncmFkZU5vdGVzdjcuNC4wLUNBL0JGb3J1bU9yZ0lEQ2hlY2tpbkV4dGVybmFsUmVxdWVzdA">
        <h2 class="heading "><span>CA/B Forum OrgID Check in External Request</span></h2>
<p   
>    <span style="color: #172b4d;">
If the CA/B Forum Organization Identifier is present in the external request (for example in Web Service requests), but the corresponding <strong class=" ">Use</strong> checkbox in the End Entity Profile is cleared and the one in Certificate Profile is selected,     </span>
    <span style="color: #172b4d;">
then the certificate issuance will fail with the appropriate error message (previously the certificate was issued successfully).    </span>
</p>
<p   
>In case the request does not contain a     <span style="color: #172b4d;">
CA/B Forum Organization Identifier and the <strong class=" ">Use</strong> checkbox related to it in the Certificate Profile is cleared, but in the End Entity Profile set to <strong class=" ">Used</strong> and Required and Modifiable     </span>
    <span style="color: #172b4d;">
without a predefined value, the certificate will fail to issue (previously the certificate was issued without the CA/B Forum OrgID inside it).    </span>
</p>
<p   
>If a predefined value is present in the     <span style="color: #172b4d;">
End Entity Profile    </span>
, then the certificate will be issued using that value even if the     <span style="color: #172b4d;">
CA/B Forum Organization Identifier is missing in the request.    </span>
</p>
    </div>
    <div class="section section-2" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-SCEPSecurityFix-MoreRestrictiveCAAccess">
        <h2 class="heading "><span>SCEP Security Fix - More Restrictive CA Access</span></h2>
<p   
>In earlier versions of EJBCA, the CA for SCEP was only restricted by the configured End Entity Profile and Certificate Profile. The <strong class=" ">RA CA Name</strong> option, while documented as restricting the CA, was in fact only used as a default option.</p>
<p   
>As of EJBCA 7.4.0 (and 6.15.2.5, 7.3.1.1) a SCEP alias will only allow issuance using the CA selected as <strong class=" ">RA CA Name</strong>. This CA must still be selected in the configured End Entity Profile and the Certificate Profile.</p>
    </div>
    <div class="section section-2" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-IgnoringEmptyDefaultCAIssuersURIRegardlessofhowCAwasCreated">
        <h2 class="heading "><span>Ignoring Empty Default CA Issuers URI Regardless of how CA was Created</span></h2>
<p   
>Previously there was an inconsistency between CLI and UI created CAs when issuing certificates with:</p>
<ul class=" "><li class=" "><p   
>In the certificate profile <strong class=" ">Authority Information Access&gt;Use CA defined CA issuer</strong> enabled.</p>
</li><li class=" "><p   
>In the CA, no default <strong class=" ">CA issuer URI</strong> was set.</p>
</li></ul><p   
>With a CLI created CA issuance failed, while with a UI created CA issuance succeeded without a CA Issuer URI in the issued certificate. The behavior has now been made consistent with UI created CAs, i.e. when no CA defined CA issuer URI is configured certificate issuance is successful, without any CA issuer URI in the issued certificate. See <a  class="external-link" href="https://jira.primekey.se/browse/ECA-8788">ECA-8788</a> for more details.</p>
    </div>
    <div class="section section-2" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-SCEPFailureReturnCodesmodified">
        <h2 class="heading "><span>SCEP Failure Return Codes modified</span></h2>
<p   
>The following return codes in SCEP have been modified to better align with the draft and return <a  class="external-link" href="https://tools.ietf.org/html/draft-nourse-scep-23#section-3.1.1.4">SCEP FailInfo</a> errors.</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>State</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Previous Return Code</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>New Return Code</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Attempting to perform client certificate renewal using an expired client certificate</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>HTTP Status 400 (Bad Request)</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>badRequest(2)</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Attempting to perform client certificate renewal on a revoked client certificate</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>HTTP Status 401 (Unauthorized)</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>badRequest(2)</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Attempting to perform client certificate renewal on a user with status 'revoked'</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>HTTP Status 401 (Unauthorized)</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>badRequest(2)</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section section-2" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-RFC5019CacheHeadersaddedtoPOST">
        <h2 class="heading "><span>RFC 5019 Cache Headers added to POST</span></h2>
<p   
>In previous versions of EJBCA, only GET requests had the RFC 5019 cache headers. These have now been added to POST as well.</p>
    </div>
    </div>
    <div class="section section-1" id="src-85918476_id-.EJBCA7.4UpgradeNotesv7.4.0-PostUpgrade">
        <h1 class="heading "><span>Post Upgrade</span></h1>
<p   
>When upgrading to EJBCA 7.4.0, you must perform a post-upgrade after all nodes have been upgraded. The post-upgrade is required because of a change in how partitioned CRLs are represented in CRLData. The post-upgrade will also reindex CRLData if the database user has sufficient privileges.</p>
<p   
>To perform the post-upgrade, click the EJBCA <strong class=" ">System Upgrade</strong> menu option, and then click <strong class=" ">Start post-upgrade</strong>. For more information, see <a   href="Upgrading_EJBCA.html">Upgrading EJBCA</a>.</p>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="EJBCA_7.4.1_Upgrade_Notes.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>EJBCA 7.4.1 Upgrade Notes</span>
        </a>
                <a href="EJBCA_7.3.1_Upgrade_Notes.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>EJBCA 7.3.1 Upgrade Notes</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
