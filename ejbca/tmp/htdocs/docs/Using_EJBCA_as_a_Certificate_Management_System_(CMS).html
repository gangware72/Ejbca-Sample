<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Using EJBCA as a Certificate Management System (CMS) - EJBCA - Documentation Space</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="108530570">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_7.4.3.2_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=96863571"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_7.4.3.2_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Documentation.html">EJBCA Documentation</a></li>
                                                                                     <li><a href="Tutorials_and_Guides.html">Tutorials and Guides</a></li>
                                                            </ul>
</div>            <h1 id="src-96863571"> <span>Using EJBCA as a Certificate Management System (CMS)</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
>    <span style="color: #000000;">
The following covers information on using EJBCA as a Certificate Management System (CMS), also known as Certificate Lifecycle Management (CLM), and gives a short overview of the CMS/CLM concept, followed by an outline of EJBCA functionality areas and third-party CMS/CLM products.    </span>
</p>
<p   
>    <span style="color: #000000;">
    </span>
</p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DTVNPdmVydmlldw">CMS Overview</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1FSkJDQUNNU0Z1bmN0aW9uYWxpdHk">EJBCA CMS Functionality</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZU93bmVyc2hpcENlcnRpZmljYXRlT3duZXJzaGlw">Certificate Ownership</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVJlcG9ydGluZ0NlcnRpZmljYXRlUmVwb3J0aW5n">Certificate Reporting</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVByb3Zpc2lvbmluZ0NlcnRpZmljYXRlUHJvdmlzaW9uaW5n">Certificate Provisioning</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVZhbGlkYXRpb25DZXJ0aWZpY2F0ZVZhbGlkYXRpb24">Certificate Validation</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZURpc2NvdmVyeUNlcnRpZmljYXRlRGlzY292ZXJ5">Certificate Discovery</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DTVMvQ0xNUHJvZHVjdEludGVncmF0aW9uQ01TUHJvZHVjdEludGVncmF0aW9u">CMS / CLM Product Integration</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1LZXlGYWN0b3I">KeyFactor</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1BcHBWaWV3WA">AppViewX</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy0zS2V5Q29tcGFueQ">3Key Company</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1EaWdpdGFsYmVycnk">Digitalberry</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1MZW11cg">Lemur</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1WZW5hZmk">Venafi</a></p>
</li></ul></li></ul>    <div class="section section-1" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DTVNPdmVydmlldw">
        <h1 class="heading "><span>CMS Overview</span></h1>
<p   
>    <span style="color: #000000;">
The meaning of the CMS (or CLM) concept has changed over the years, creating a need to describe it in more detail, as it may mean different things for different people.    </span>
</p>
<p   
>    <span style="color: #000000;">
Originally, CMS was synonymous with Certificate Issuance and Management System, which is the CA technology for a Certificate Authority (CA). This is what EJBCA is. As the need grew over the years, more features have been consolidated into the term CMS.    </span>
</p>
<p   
>    <span style="color: #000000;">
According to Gartner a CMS is:    </span>
</p>
    <blockquote>
<pre class=" ">&quot;Certificate management system software is used to discover, identify, track, <br/> notify, and ultimately automatically renew and audit the installation of X.509 <br/> certificates.&rdquo; </pre><pre class=" ">(Gartner, 2016)</pre>        </blockquote>
<p   
>Today the following main functional areas are available:</p>
<ul class=" "><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZU93bmVyc2hpcA">Certificate Ownership</a></p>
<ul class=" "><li class=" "><p   
>Knowledge of which entities need to have a certificate, and why.</p>
</li><li class=" "><p   
>Controlling costs of obtaining certificates.</p>
</li></ul></li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVJlcG9ydGluZw">Certificate Reporting</a></p>
<ul class=" "><li class=" "><p   
>Overview of certificates being active/used by end entities.</p>
</li><li class=" "><p   
>Assurance that end entities use only intended certificates, that is, do not have other valid certificates</p>
</li></ul></li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVByb3Zpc2lvbmluZw">Certificate Provisioning</a></p>
<ul class=" "><li class=" "><p   
>Provisioning and activating of certificates on end entities.</p>
</li><li class=" "><p   
>Renewal of certificates on end entities.</p>
</li></ul></li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVZhbGlkYXRpb24">Certificate Validation</a></p>
<ul class=" "><li class=" "><p   
>Efficient way for relying parties to validate certificates.</p>
</li></ul></li><li class=" "><p   
>Certificate Discovery</p>
<ul class=" "><li class=" "><p  class="_mce_tagged_br" 
>Not having a clear understanding of where, and how, certificates are used may cause issues such as service disruptions, security breaches, uncontrolled costs, and non-compliance.</p>
</li></ul></li></ul><p   
>In addition, many CMS use cases are related to performing the above functionality with multiple logically and physically separated CAs. For example, several Public CAs, for issuing publicly trusted web server certificates, and several internal CAs, installed with different vendor products.</p>
<p   
>Certificate Management can be performed using EJBCA itself, or using a third party CMS product that integrates with EJBCA. EJBCA supports the first four functions described above. The difference between using EJBCA itself and a third party CMS product is that EJBCA manages certificates issued and managed within the EJBCA instance and thus each EJBCA instance is its own certificate management system. A third party CMS product is typically used to manage multiple logical and physically separated PKIs, for example, certificates issued by one (or more) in-house EJBCA instances as well as certificates issued by one (or many) external PKIs such as publicly trusted CAs.</p>
<p   
>The following sections cover EJBCA CMS functionality areas and then the <a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DTVNQcm9kdWN0SW50ZWdyYXRpb24">CMS Product Integration</a> section outlines third-party CMS products.</p>
    </div>
    <div class="section section-1" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1FSkJDQUNNU0Z1bmN0aW9uYWxpdHk">
        <h1 class="heading "><span>EJBCA CMS Functionality</span></h1>
<p   
>The following sections outline the CMS functionality offered within an EJBCA instance:</p>
<ul class=" "><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZU93bmVyc2hpcA">Certificate Ownership</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVJlcG9ydGluZw">Certificate Reporting</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVByb3Zpc2lvbmluZw">Certificate Provisioning</a></p>
</li><li class=" "><p   
><a   href="#src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVZhbGlkYXRpb24">Certificate Validation</a></p>
</li></ul>    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZU93bmVyc2hpcENlcnRpZmljYXRlT3duZXJzaGlw">
        <h2 class="heading "><span id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZU93bmVyc2hpcA" class="confluence-anchor-link"></span><span>Certificate Ownership </span></h2>
<p   
>Using EJBCA you control which entities are issued with certificates. The flexible configuration of certificate profiles, authorization and protocols allow you to strictly control what needs to be controlled and automate what needs to be automated.</p>
<p   
>Configuring different types of certificates for different end entity types and groups are controlled using <a   href="Certificate_Authority_Overview.html">Certificate Authorities</a>, <a   href="End_Entity_Profile_Operations.html">End Entity Profile Operations</a>, and <a   href="Certificate_Profiles_Overview.html">Certificate Profiles</a>.</p>
<p   
><a   href="Roles_and_Access_Rules.html">Role based access control</a> is used to in detail control who, or what has access to manage the various types of certificates and end entity groups.</p>
<p   
><a   href="Approving_Actions.html">Approvals</a> can optionally be used to enforce multi-person controls before a certificate is issued.</p>
<p   
><a   href="E-mail_Notifications.html">E-mail notifications</a> can be used to notify certificate subjects, and administrators of issuance, revocations and <a   href="Approving_Actions.html">approval workflow status</a>.</p>
<p   
>The below examples give an overview of a small subset of options to control certificate issuance.</p>
<ul class=" "><li class=" "><p   
>Manually managing certificate requests that require approval.</p>
</li></ul><p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/ownership.png" alt="images/download/attachments/96863571/ownership.png"  height="250" />
        <br/><span class="caption">Manually Managing Certificate Request</span>
    </p>
<ul class=" "><li class=" "><p   
>Manually approving certificate requests in an approval work-flow.</p>
</li></ul><p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/ownership1.png" alt="images/download/attachments/96863571/ownership1.png"  height="250" />
        <br/><span class="caption">Manually Approving Certificate Requests</span>
    </p>
<ul class=" "><li class=" "><p   
>Immediate download of the requested certificate.</p>
</li></ul><p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/ownership2.png" alt="images/download/attachments/96863571/ownership2.png"  height="250" />
    </p>
    </div>
    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVJlcG9ydGluZ0NlcnRpZmljYXRlUmVwb3J0aW5n">
        <h2 class="heading "><span id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVJlcG9ydGluZw" class="confluence-anchor-link"></span><span>Certificate Reporting </span></h2>
<p   
>After issuing certificates there is also a need to be able to investigate, among other things, which certificates have been issued and when certificates expire. EJBCA provides search and notification functions in order to give insight into certificate use.</p>
<p   
>Note that the below screenshots only give an overview of a small subset of options to search and report.</p>
<p   
>The <a   href="RA_Operations_Guide.html">EJBCA RA</a> provides rich search capabilities to search for both certificates and end entities, to among other things see:</p>
<ul class=" "><li class=" "><p   
>Which certificates are issued to a specific end entity (for example a device, user or server).</p>
</li></ul><p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/reporting1.png" alt="images/download/attachments/96863571/reporting1.png"  height="250" />
    </p>
<ul class=" "><li class=" "><p   
>Which certificates have been issued with a specified name, serial number, hostname and so on.</p>
</li></ul><p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/reporting2.png" alt="images/download/attachments/96863571/reporting2.png"  height="250" />
    </p>
<ul class=" "><li class=" "><p   
>Which unique end entities have been registered with a specified name, serial number, hostname and so on.</p>
</li></ul><p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/reporting3.png" alt="images/download/attachments/96863571/reporting3.png"  height="250" />
    </p>
<ul class=" "><li class=" "><p   
>Which certificates are about to expire within a specified time interval.</p>
</li></ul><p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/reporting4.png" alt="images/download/attachments/96863571/reporting4.png"  height="250" />
    </p>
<ul class=" "><li class=" "><p   
>You can also configure a <a   href="Services.html">Service</a> to report, by email, a defined period of time before certificates expire.</p>
</li></ul><p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/reporting5.png" alt="images/download/attachments/96863571/reporting5.png"  height="250" />
    </p>
<ul class=" "><li class=" "><p   
>Centralizing reporting functions can be done by integrating with a log analysis tool. For more information, see <a   href="Integrating_EJBCA_with_Graylog.html">Integrating EJBCA with Graylog</a>.</p>
</li></ul><p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/graylog2.png" alt="images/download/attachments/96863571/graylog2.png"  height="250" />
    </p>
    </div>
    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVByb3Zpc2lvbmluZ0NlcnRpZmljYXRlUHJvdmlzaW9uaW5n">
        <h2 class="heading "><span id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVByb3Zpc2lvbmluZw" class="confluence-anchor-link"></span><span>Certificate Provisioning </span></h2>
<p   
>Certificate Provisioning is the process of registering a device, generating keys, generating a certificate request, issuing the certificate and finally installing the certificate on the device. How this should be done is highly use case dependent and can vary from time-consuming manual processes to highly automated industrial, IoT or cloud processes. Provisioning typically refers more to the process on the device side than the process on the CA side. How this is done on the client-side naturally differs quite some. In general, the options are:</p>
<ul class=" "><li class=" "><p   
>Built-in device functions, for example in your firewall, router and so on.</p>
</li><li class=" "><p   
>Client-side SDKs when you develop your own software on the device.</p>
</li><li class=" "><p   
>Client tools installed on the device.</p>
</li><li class=" "><p   
>Certificate Management Agents installed on the device.</p>
</li></ul><p   
>During the provisioning process, the device uses a protocol to communicate with the CA, or RA, to enroll for certificates. EJBCA has wide support for the common protocols:</p>
<ul class=" "><li class=" "><p   
><a   href="EST.html">EST</a></p>
</li><li class=" "><p   
><a   href="CMP.html">CMP</a></p>
</li><li class=" "><p   
><a   href="ACME.html">ACME</a></p>
</li><li class=" "><p   
><a   href="SCEP.html">SCEP</a></p>
</li><li class=" "><p   
><a   href="EJBCA_REST_Interface.html">REST</a></p>
</li><li class=" "><p   
><a   href="Web_Service_Interface.html">Web Service</a></p>
</li></ul><p   
>Available protocols are configured in EJBCA System Configuration.</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/provisioning1.png" alt="images/download/attachments/96863571/provisioning1.png"  height="250" />
    </p>
<p   
>Depending on the client, different protocols are used, and many devices have built-in support for one of the protocols. ACME is a new protocol, used to automate issuance and renewal of server certificates, where there are multiple different client tools available to install on servers and devices to handle provisioning. When it comes to SDKs there are also multiple options, for example:</p>
<ul class=" "><li class=" "><p   
><a  class="external-link" href="https://bouncycastle.org/">BouncyCastle</a> Java API, works on all Java devices (including Android) and supports several of the protocols above.</p>
</li><li class=" "><p   
><a  class="external-link" href="https://www.openssl.org/">OpenSSL</a></p>
<ul class=" "><li class=" "><p   
><a  class="external-link" href="https://github.com/mpeylo/cmpossl">cmpforopenssl</a></p>
</li></ul></li><li class=" "><p   
><a  class="external-link" href="https://certbot.eff.org/">CertBot</a></p>
</li><li class=" "><p   
><a  class="external-link" href="https://github.com/jscep/jscep">JSCEP</a></p>
</li><li class=" "><p   
><a  class="external-link" href="https://curl.haxx.se/">CURL</a></p>
</li><li class=" "><p   
>and many more</p>
</li></ul><p   
>The SDK we support most closely is BouncyCastle, which is also the SDK EJBCA uses itself.</p>
<p   
>The following displays an example of the ACME REST-based protocol.</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/96863571/ACME.png" alt="images/download/attachments/96863571/ACME.png"  height="250" />
    </p>
<p   
>    <span style="color: #000000;">
Certificate Management Agents are usually part of a CMS product and used in combination with that, see below.    </span>
</p>
    </div>
    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZVZhbGlkYXRpb25DZXJ0aWZpY2F0ZVZhbGlkYXRpb24">
        <h2 class="heading "><span>Certificate Validation </span></h2>
<p   
>    <span style="color: #000000;">
Certificate Validation can be divided into two parts, verifying the certificate chain, and checking if a certificate is revoked or not.    </span>
</p>
<p   
>    <span style="color: #000000;">
Revocation validation is supported by EJBCA through the most common means of validating if a certificate is revoked or not:    </span>
</p>
<ul class=" "><li class=" "><p   
><a   href="OCSP.html">OCSP</a></p>
</li><li class=" "><p   
><a   href="CRL_Generation.html">CRL</a></p>
</li></ul><p   
>    <span style="color: #000000;">
When checking whether a certificate is revoked, clients either validate against the online OCSP service (query per certificate), or download the CRL (list of all revoked certificates) to determine the revocation status of a certificate.    </span>
</p>
<p   
>    <span style="color: #000000;">
Ability to validate the certificate chain depends on the client having the full chain to verify. In some protocols, such as TLS, the certificate chain is normally transferred as part of the handshake part of the protocol, but in some cases, the client may need to fetch CA certificates from the server.    </span>
</p>
<p   
>    <span style="color: #000000;">
In EJBCA validation services are packaged in the Validation Authority (VA), a single offering of both OCSP service and CRL download, as well as CA certificate download. The EJBCA VA contains the information needed by a relying party to verify and validate certificates (as long as the relying party has established trust in the Root CA).    </span>
</p>
<p   
>    <span style="color: #000000;">
Client support for certificate validation is in many cases built into the clients, and it is present in the common SDKs such as Bouncy Castle, OpenSSL, and others.    </span>
</p>
    </div>
    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DZXJ0aWZpY2F0ZURpc2NvdmVyeUNlcnRpZmljYXRlRGlzY292ZXJ5">
        <h2 class="heading "><span>Certificate Discovery </span></h2>
<p   
>    <span style="color: #000000;">
In large organizations, it is very hard to keep track, and control, of certificate usage within the organization. Expiring certificates can be a cause of outage for important business services when the certificates have not been managed properly by a specific business unit. Certificate Discovery tools help to identify and locate certificates and provides reporting capabilities. Discovery is typically done by scanning networks, systems and applications, logging instances of certificates found. This can easily find <i class=" ">public</i> used certificates, such as server certificates. Client certificates are in many cases not accessible to network scanning and need to be discovered by scanning applications and registries, for example, Active Directory.    </span>
</p>
<p   
>    <span style="color: #000000;">
EJBCA does not provide scanning functionality to discover certificates not managed by the EJBCA instance itself. EJBCA has full control and knowledge about all certificates issued by itself when used as a CA.    </span>
</p>
    </div>
    </div>
    <div class="section section-1" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1DTVMvQ0xNUHJvZHVjdEludGVncmF0aW9uQ01TUHJvZHVjdEludGVncmF0aW9u">
        <h1 class="heading "><span>CMS / CLM Product Integration </span></h1>
<p   
>    <span style="color: #000000;">
There are multiple third-party CMS products available to discover and control certificates issued by a multitude of CAs. Products in this sector provide different functionality, some are focused solely on discovery and others on providing full lifecycle management with support for integration into other IT systems such as load balancers, EMM and MdM systems, IoT devices, etc.    </span>
</p>
    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1LZXlGYWN0b3I">
        <h2 class="heading "><span>KeyFactor</span></h2>
<p   
>    <span style="color: #000000;">
Keyfactor&rsquo;s certificate lifecycle automation and management platform, lets you manage the lifecycle of keys and digital certificates across your business.    </span>
</p>
<p   
>    <span style="color: #000000;">
KeyFactor has native integration with EJBCA using the REST API. For more information, refer to the PrimeKey press release     </span>
    <span style="color: #000000;">
<a  class="external-link" href="https://www.primekey.com/blog/2020/06/23/keyfactor-and-primekey-partner-to-enable-highly-scalable-pki-for-modern-enterprise-iot-deployments">Keyfactor and PrimeKey Partner to Enable Highly Scalable PKI for Modern Enterprise &amp; IoT Deployments</a>.    </span>
</p>
    </div>
    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1BcHBWaWV3WA">
        <h2 class="heading "><span>AppViewX</span></h2>
<p   
>    <span style="color: #000000;">
The AppViewX Platform is a modular application that enables the automation and orchestration of network infrastructure using an intuitive, context-aware, visual workflow. It is closed-loop and state-aware, capable of verifying that intent has been achieved and providing actionable insights and automated remediation.    </span>
</p>
<p   
>    <span style="color: #000000;">
AppViewX has native integration with EJBCA using the REST API. For more information, refer to the PrimeKey press release    </span>
 <a  class="external-link" href="https://www.primekey.com/blog/2019/08/27/appviewx-and-primekeys-ejbca-integrated-certificate-management-solution">AppViewX and PrimeKey&rsquo;s EJBCA-integrated certificate management solution</a>.</p>
    </div>
    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy0zS2V5Q29tcGFueQ">
        <h2 class="heading "><span>3Key Company</span></h2>
<p   
>    <span style="color: #000000;">
3Key Company develops and maintains several add-ons to EJBCA Enterprise. The     </span>
    <span style="color: #000000;">
3Key DMR add-on offers dashboarding, monitoring, and reporting add-on functionality to EJBCA helping organizations get the most out of their state of the art PKI.    </span>
</p>
<p   
>    <span style="color: #000000;">
For more information, see <a   href="3Key_Dashboarding%2C_Monitoring_and_Reporting_Add-on.html">3Key Dashboarding, Monitoring and Reporting Add-on</a> and <a   href="3Key_RA_Profiles_Add-on.html">3Key RA Profiles Add-on</a> or the PrimeKey press release <a  class="external-link" href="https://www.primekey.com/blog/2020/06/30/primekey-and-3key-company-announce-a-new-partnership">PrimeKey and 3Key Company announce a new partnership, delivering PKI and Signing solutions to protect business-critical digital assets</a>.    </span>
</p>
    </div>
    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1EaWdpdGFsYmVycnk">
        <h2 class="heading "><span>Digitalberry</span></h2>
<p  class="entry-title" 
>    <span style="color: #000000;">
The Digitalberry BerryCert software automates digital certificate lifecycle management. BerryCert detects and automatically manages certificate renewal before the expiration date.    </span>
</p>
<p   
>    <span style="color: #000000;">
BerryCert has native integration with EJBCA using the WS API. For more information, refer to Digitalberry documentation on <a  class="external-link" href="https://www.digitalberry.fr/en/service/development-and-integration-of-digital-trust-solutions/integration-of-primekey-ejbca-public-key-infrastructure-pki/">Integration of PrimeKey EJBCA</a>    </span>
</p>
    </div>
    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1MZW11cg">
        <h2 class="heading "><span>Lemur</span></h2>
<p   
>    <span style="color: #000000;">
Lemur is an open source CLM project originally developed by Netflix. Lemur manages TLS certificate creation. While not able to issue certificates itself, Lemur acts as a broker between CAs and environments providing a central portal for developers to issue TLS certificates with 'sane' defaults.    </span>
</p>
<p   
>    <span style="color: #000000;">
PrimeKey has developed a Lemur EJBCA plugin that enables native integration between Lemur and EJBCA, enabling Lemur to use EJBCA as the backend PKI seamlessly.    </span>
</p>
    </div>
    <div class="section section-2" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1WZW5hZmk">
        <h2 class="heading "><span>Venafi</span></h2>
<p   
>    <span style="color: #000000;">
The Venafi Platform is a full lifecycle management platform that discovers, manages and automates certificate usage in large organizations.    </span>
</p>
    <div class="section section-3" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1FSkJDQUludGVncmF0aW9uRHJpdmVy">
        <h3 class="heading "><span>EJBCA Integration Driver</span></h3>
<p   
>    <span style="color: #000000;">
The Venafi platform has native integration into EJBCA using an <i class=" ">Adaptable CA Driver</i>, connecting to EJBCA using the Web Service API. Using the integration the Venafi Platform automatically handles management functions in EJBCA and can be seen as an advanced RA, from the CA perspective. This enabled an organization to manage all its certificate usage, including external and internal PKIs using a single platform.    </span>
</p>
<p   
>    <span style="color: #000000;">
Functions available in the Venafi-EJBCA integration includes:    </span>
</p>
<ul class=" "><li class=" "><p   
>    <span style="color: #000000;">
Retrieval of CA certificates    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Requesting and issuing certificates    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Renewing certificates    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Revoking certificates    </span>
</p>
</li></ul><p   
>    <span style="color: #000000;">
Installing the Venafi-EJBCA integration <i class=" ">Adaptable CA Driver</i> is easily done by putting the driver script (EJBCA.ps1) and WSDL (ejbcaws.wsdl) in your Venafi Platform installation, configure a few variables in the driver including the EJBCA server address, set up the Adaptable Driver in the Venafi Platform and configure authentication, and finally associate the driver CA templates and policy inside your Venafi administration interface.    </span>
</p>
<p   
>    <span style="color: #000000;">
The <i class=" ">Adaptable CA Driver</i> can be supplied by Venafi or PrimeKey.    </span>
</p>
    </div>
    <div class="section section-3" id="src-96863571_safe-id-aWQtLlVzaW5nRUpCQ0Fhc2FDZXJ0aWZpY2F0ZU1hbmFnZW1lbnRTeXN0ZW0oQ01TKXY3LjQuMy1JbXBvcnRpbmdleGlzdGluZ0VKQkNBY2VydGlmaWNhdGVz">
        <h3 class="heading "><span>Importing existing EJBCA certificates</span></h3>
<p   
>    <span style="color: #000000;">
If you are setting up a new system, configuring the Venafi-EJBCA integration from the start gives you everything needed. If you install Venafi after you have been running EJBCA for a while, you may want to import all the issued certificates from EJBCA into Venafi.    </span>
</p>
<p   
>    <span style="color: #000000;">
Venafi has a method to import certificates from the filesystem, and you can export issued certificates from EJBCA using a database query. After exporting all certificates from EJBCA, this can be used to import them into the Venafi Platform.    </span>
</p>
<p   
>    <span style="color: #000000;">
The Base64 encoded data of certificates are stored in the column named base64Cert in the CertificateData table. You can get it by SQL like:    </span>
</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">select base64Cert from CertificateData where issuerDN=</code><code class="string">'CN=MyCA,O=MyOrg,C=SE'</code><code class="plain">;</code></div>
</div>
    </div>
<p   
>    <span style="color: #000000;">
To export all certificates from the database into PEM format (e.g. as zip) with status (active, revoked) from all CAs with time period for selection, use a script like the following:    </span>
</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">#/bin/sh</code></div>
<div class="line"><code class="plain">host=localhost</code></div>
<div class="line"><code class="plain">user=ejbca</code></div>
<div class="line"><code class="plain">database=ejbca</code></div>
<div class="line"><code class="plain">issuerdn=</code><code class="string">"CN=MyCA,O=MyOrg,C=SE"</code></div>
<div class="line"><code class="plain">outputDirectory=.</code></div>
<div class="line"><code class="plain">read -s -p </code><code class="string">"Enter database password: "</code><code class="plain"> password</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">mysql -u$user -p$password -h $host $database -s -e </code><code class="string">"SELECT serialNumber, CertificateData.status, base64Cert, name FROM CertificateData JOIN CAData ON CertificateData.issuerDN=CAData.subjectDN WHERE CertificateData.issuerDN='$issuerdn';"</code><code class="plain"> | </code><code class="keyword">while</code><code class="plain"> IFS=$</code><code class="string">'\t'</code><code class="plain"> read -r serialNumber status base64Cert issuerName; </code><code class="keyword">do</code></div>
<div class="line"><code class="plain">    mkdir -p $outputDirectory/ejbca_certificate_export/</code><code class="string">"$issuerName"</code><code class="plain">/</code><code class="string">"$status"</code></div>
<div class="line"><code class="plain">    file=$outputDirectory/ejbca_certificate_export/</code><code class="string">"$issuerName"</code><code class="plain">/</code><code class="string">"$status"</code><code class="plain">/</code><code class="string">"$serialNumber"</code><code class="plain">.pem</code></div>
<div class="line"><code class="plain">echo </code><code class="string">"-----BEGIN CERTIFICATE-----"</code><code class="plain"> &gt;&gt; </code><code class="string">"$file"</code></div>
<div class="line"><code class="plain">echo </code><code class="string">"$base64Cert"</code><code class="plain"> | sed </code><code class="string">'s/\\n/\n/g'</code><code class="plain"> &gt;&gt; </code><code class="string">"$file"</code></div>
<div class="line"><code class="plain">  echo </code><code class="string">"-----END CERTIFICATE-----"</code><code class="plain"> &gt;&gt; </code><code class="string">"$file"</code><code class="plain">;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">done</code></div>
<div class="line"><code class="keyword">if</code><code class="plain"> [[ -d $outputDirectory/ejbca_certificate_export ]]; then</code></div>
<div class="line"><code class="plain">    zip -rq certificate_export.zip $outputDirectory/ejbca_certificate_export</code></div>
<div class="line"><code class="plain">    rm -rf $outputDirectory/ejbca_certificate_export</code></div>
<div class="line"><code class="plain">fi</code></div>
</div>
    </div>
<p   
>    <span style="color: #000000;">
This results in a zip file where directories are created for the CA (Common Name) and in the next level status (20 = active, 40 = revoked).    </span>
</p>
<p   
>    <span style="color: #000000;">
You can also do it for <i class=" ">all</i> CAs by removing the clause <i class=" ">WHERE CertificateData.issuerDN='$issuerdn'.</i>    </span>
</p>
    </div>
    </div>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Migrating_an_OpenSSL_CA_to_EJBCA.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Migrating an OpenSSL CA to EJBCA</span>
        </a>
                <a href="Modifying_EJBCA.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Modifying EJBCA</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
