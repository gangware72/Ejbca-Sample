<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>EJBCA Architecture - EJBCA - Documentation Space</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="108530570">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_7.4.3.2_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=85923725"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_7.4.3.2_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Documentation.html">EJBCA Documentation</a></li>
                                                                                     <li><a href="EJBCA_Introduction.html">EJBCA Introduction</a></li>
                                                            </ul>
</div>            <h1 id="src-85923725"> <span>EJBCA Architecture</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
>The following sections outlines a selection of common <a   href="#src-85923725_id-.EJBCAArchitecturev7.4.0-PKIArchitecture">PKI architectures</a> deployed and other aspects of <a   href="#src-85923725_id-.EJBCAArchitecturev7.4.0-EnterpriseIntegration">Enterprise Integration</a> PKI architectures such as Key Management, Certificate Distribution, and Clustering and High Availability.</p>
    <div class="section section-1" id="src-85923725_id-.EJBCAArchitecturev7.4.0-PKIArchitecture">
        <h1 class="heading "><span>PKI Architecture</span></h1>
<p   
>There are multiple ways that you can implement and architect a PKI solution, ranging from simple and low cost, to very complex and costly. EJBCA allows implementing virtually any type of PKI architecture and the following sections describe a selection of common PKI architectures deployed. The following describes the various ways EJBCA can be set up as part of a PKI.</p>
    <div class="section section-2" id="src-85923725_safe-id-aWQtLkVKQkNBQXJjaGl0ZWN0dXJldjcuNC4wLVN0YW5kYWxvbmVDQS9SQS9WQQ">
        <h2 class="heading "><span>Standalone CA/RA/VA</span></h2>
<p   
>A single installation of EJBCA acting as CA, RA and VA. EJBCA supports full multi-tenancy, so multiple CA instances can inhabit the same installation.</p>
<p   
><img  class="drawio-diagram-image"  src="images/inline/69304223a735557b0a8a03931cb239fc11d47609.png" alt="images/inline/69304223a735557b0a8a03931cb239fc11d47609.png" width="400"  />
    </p>
<p   
>For more information, see <a   href="Using_EJBCA_as_a_Standalone_CA_RA_VA.html">Using EJBCA as a Standalone CA/RA/VA</a>.</p>
    </div>
    <div class="section section-2" id="src-85923725_safe-id-aWQtLkVKQkNBQXJjaGl0ZWN0dXJldjcuNC4wLUNBd2l0aGRpc3RyaWJ1dGVkUkFzYW5kL29yVkFz">
        <h2 class="heading "><span>CA with distributed RAs and/or VAs</span></h2>
<p   
></p>
<p   
><span class="status blue " >ENTERPRISE</span>
 This is an EJBCA Enterprise feature.</p>
<p   
>EJBCA can be set up using PrimeKey's Peer Protocol to communicate with other instances of EJBCA acting as RA and/or VA in its stead in order to improve performance and add security by being able to place the CA behind a firewall allowing for only outgoing connections.</p>
<p   
><img  class="drawio-diagram-image"  src="images/inline/7770c03cfe6404a064ede26b906ed55fff7cece1.png" alt="images/inline/7770c03cfe6404a064ede26b906ed55fff7cece1.png" width="500"  />
    </p>
<p   
>For more information, see <a   href="EJBCA_with_distributed_RA_VAs.html">EJBCA with distributed RA/VAs</a>.</p>
    </div>
    <div class="section section-2" id="src-85923725_id-.EJBCAArchitecturev7.4.0-StandaloneVA">
        <h2 class="heading "><span>Standalone VA</span></h2>
<p   
>EJBCA can be deployed as a standalone VA serving the OCSP needs of non-EJBCA installations by periodically reading CRLs.</p>
<p   
><img  class="drawio-diagram-image"  src="images/inline/ea841b24025c788da26ae76d382b006081102ec1.png" alt="images/inline/ea841b24025c788da26ae76d382b006081102ec1.png" width="400"  />
    </p>
<p   
>For more information, see <a   href="Synchronizing_the_VA_Database.html">Synchronizing the VA Database</a> and <a   href="OCSP_Management.html#src-93592919_id-.OCSPManagementv7.4.1-crldownloadservice">CRL Download Service.</a></p>
    </div>
    <div class="section section-2" id="src-85923725_id-.EJBCAArchitecturev7.4.0-HybridPKIwithPublicCloud">
        <h2 class="heading "><span>Hybrid PKI with Public Cloud</span></h2>
<p   
></p>
<p   
><span class="status blue " >ENTERPRISE</span>
 This is an EJBCA Enterprise feature.</p>
<p   
>EJBCA is suitable to deploy in a cloud installation or in hybrid on-premises and cloud environment. A good example is keeping the most sensitive CA on-premises, while leveraging the public cloud distributed services and elasticity for Validation authorities or Registration Authorities.</p>
<p   
><img  class="drawio-diagram-image"  src="images/inline/91a8f4e440c372578f07d506c6ac80ab22c9874e.png" alt="images/inline/91a8f4e440c372578f07d506c6ac80ab22c9874e.png" width="400"  />
    </p>
<p   
>You can with benefit leverage the EJBCA Enterprise Cloud Edition, in Amazon Web Services (AWS), to set up your cloud nodes.</p>
<p   
></p>
    </div>
    </div>
    <div class="section section-1" id="src-85923725_id-.EJBCAArchitecturev7.4.0-EnterpriseIntegration">
        <h1 class="heading "><span>Enterprise Integration</span></h1>
<p   
>Besides the fundamental PKI installation, there are many other aspects to take in mind when designing a PKI architecture.</p>
    <div class="section section-2" id="src-85923725_id-.EJBCAArchitecturev7.4.0-KeyManagement">
        <h2 class="heading "><span>Key Management</span></h2>
<p   
>For installations where a certain level of trust and security are required, keys need to be stored in a <strong class=" ">Hardware Security Module</strong> (HSM).</p>
<p   
><img  class="drawio-diagram-image"  src="images/inline/568aa3f7ffcf4af1a7006dbcbd88a60c56161076.png" alt="images/inline/568aa3f7ffcf4af1a7006dbcbd88a60c56161076.png" width="300"  />
    </p>
<p   
>For more information on working with HSMs using EJBCA, see <a   href="Hardware_Security_Modules_%28HSM%29.html">Hardware Security Modules (HSM)</a>.</p>
<p   
>For more information on PKI Appliance with a built-in HSM, refer to <a  class="external-link" href="https://doc.primekey.com/pkiappliance">PrimeKey PKI Appliance</a>.</p>
    </div>
    <div class="section section-2" id="src-85923725_id-.EJBCAArchitecturev7.4.0-CertificateDistribution">
        <h2 class="heading "><span>Certificate Distribution</span></h2>
<p   
>Since PKI is really a security infrastructure, it needs to be integrated fitting the security needs of the organization and use case. Each use case and organization have their own special needs making integration truly universal. One integration point that regularly occurs is integration with corporate directories or databases. EJBCA can publish information to directories, databases or other servers, using its vast array of <a   href="Publishers_Overview.html">Publishers</a>.</p>
<p   
><img  class="drawio-diagram-image"  src="images/inline/9e1353a6cd987466fda4492a3496d679a0b463d0.png" alt="images/inline/9e1353a6cd987466fda4492a3496d679a0b463d0.png" width="600"  />
    </p>
<p   
>For more information, see <a   href="Publishers_Overview.html">Publishers Overview</a>.</p>
    </div>
    <div class="section section-2" id="src-85923725_id-.EJBCAArchitecturev7.4.0-ClusteringandHighAvailability">
        <h2 class="heading "><span>Clustering and High Availability</span></h2>
<p   
>The more mission critical the PKI infrastructure becomes, the more need for high availability and clustering. EJBCA, both CA and VA, can easily be clustered for availability and performance. The PKI architecture itself does not differ between clustered and non-clustered operations, but there are more servers involved.</p>
<p   
><img  class="drawio-diagram-image"  src="images/inline/44d2ecbdfe877e0816940e68b1740620ed57e664.png" alt="images/inline/44d2ecbdfe877e0816940e68b1740620ed57e664.png" width="300"  />
    </p>
<p   
>Clustering for High Availability and Disaster Recovery can easily be set up using the <a  class="external-link" href="https://www.primekey.se/technologies/products-overview/pki-appliance/">PKI Appliance</a>, as described in the blog post <a  class="external-link" href="http://blog.ejbca.org/2015/04/high-availability-for-pki-in-8-simple.html">High Availability for PKI in 8 Simple Steps</a>.</p>
<p   
>For more information, see <a   href="High_Availability_and_Clustering.html">High Availability and Clustering</a>.</p>
    </div>
    <div class="section section-2" id="src-85923725_id-.EJBCAArchitecturev7.4.0-Auditing">
        <h2 class="heading "><span>Auditing </span></h2>
<p   
>To beef it up for fully audited trust center architecture, you will separate more functions into separate components and introduce more role based access to different part of the system. Some characteristics of such a system is:</p>
<ul class=" "><li class=" "><p   
>Separated Root CAs and Issuing CAs.</p>
</li><li class=" "><p   
>Signed audit logs, log aggregation in separate log servers.</p>
</li><li class=" "><p   
>Separate database instances, with integrity protected database content (role separation between DBA and CA operators).</p>
</li><li class=" "><p   
>Separate Validation Authorities.</p>
</li><li class=" "><p   
>Separate network segments for all different components.</p>
</li><li class=" "><p   
>Monitoring and intrusion detection.</p>
</li><li class=" "><p   
>and more...</p>
</li></ul>    </div>
    <div class="section section-2" id="src-85923725_id-.EJBCAArchitecturev7.4.0-AutomationandLargeScaleOperations">
        <h2 class="heading "><span>Automation and Large Scale Operations</span></h2>
<p   
>In many modern use cases (often coined IoT, Industry 4.0 etc) you really want to have automated industrial processes, in some cases very high speed and with huge volumes. All the integration interfaces named above, CMP, Web service and SCEP are suitable for automated operations. In EJBCA you can configure a multitude of options for different levels of automation, different trust models and policies, etc. Finding the right options you can integrate with virtually everything, issuing certificates for anything.</p>
<p   
>Since EJBCA uses standard relational databases, suitable for large scale and high performance you can easily scale EJBCA to hundreds of millions issued certificates, and with some care even billions. Depending on the architecture and interfaces chosen you can reach very low latency (sub 100ms) and very high throughput (&gt;100 certs/sec).</p>
<p   
>For more information, see <a   href="Maximizing_Performance.html">Maximizing Performance</a>.</p>
    </div>
    </div>
    <div class="section section-1" id="src-85923725_id-.EJBCAArchitecturev7.4.0-InternalEJBCAArchitecture">
        <h1 class="heading "><span>Internal EJBCA Architecture </span></h1>
<p   
>For information on the internal architecture of EJBCA, see <a   href="Internal_Architecture.html">Inter</a><a   href="Internal_Architecture.html">nal</a><a   href="Internal_Architecture.html"> Architecture</a>.</p>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="EJBCA_Concepts.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>EJBCA Concepts</span>
        </a>
                <a href="Using_EJBCA_as_a_Standalone_CA_RA_VA.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Using EJBCA as a Standalone CA/RA/VA</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
