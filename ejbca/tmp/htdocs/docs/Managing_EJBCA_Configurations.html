<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Managing EJBCA Configurations - EJBCA - Documentation Space</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="108530570">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_7.4.3.2_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=100270447"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_7.4.3.2_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Documentation.html">EJBCA Documentation</a></li>
                                                                                     <li><a href="EJBCA_Installation.html">EJBCA Installation</a></li>
                                                            </ul>
</div>            <h1 id="src-100270447"> <span>Managing EJBCA Configurations</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
>EJBCA maintains its static configurations under the <strong class=" ">conf </strong>directory. The directory includes various configuration files (saved as <i class=" ">*.properties.sample</i>), which need to be renamed to <i class=" ">*.properties </i>to become active. For production installations, it's recommended to maintain the <a   href="Handling_Configurations_in_a_Separate_Directory.html">configuration files in a separate directory</a>, in order to retain the configuration when upgrading EJBCA.</p>
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-RequiredConfiguration">Required Configuration</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-install.properties">install.properties</a></p>
</li><li class=" "><p   
><a   href="#src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-cesecore.properties">cesecore.properties</a></p>
</li><li class=" "><p   
><a   href="#src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-ejbca.properties">ejbca.properties</a></p>
</li><li class=" "><p   
><a   href="#src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-web.properties">web.properties</a></p>
</li><li class=" "><p   
><a   href="#src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-database.properties">database.properties</a></p>
</li><li class=" "><p   
><a   href="#src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-databaseprotection.properties">databaseprotection.properties</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-100270447_safe-id-aWQtLk1hbmFnaW5nRUpCQ0FDb25maWd1cmF0aW9uc3Y3LjQuMy1OZXh0U3RlcDpDcmVhdGluZ3RoZURhdGFiYXNl">Next Step: Creating the Database</a></p>
</li><li class=" "><p   
><a   href="#src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-RelatedContent">Related Content</a></p>
</li></ul>    <div class="section section-1" id="src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-RequiredConfiguration">
        <h1 class="heading "><span>Required Configuration</span></h1>
<p   
>Before continuing, some configuration files need to be modified to ensure that the basic EJBCA installation performs as expected. Other changes can be made after the installation and can be effected by redeploying EJBCA.</p>
    <div class="section section-2" id="src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-install.properties">
        <h2 class="heading "><span>install.properties </span></h2>
<p   
>The configuration file install.properties specifies the properties of the Management CA. The following lists properties required to be configured prior to installation. Note that the configuration file may include other properties than the ones listed below.</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="20%"/>
                                    <col  width="32%"/>
                                    <col  width="46%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Property</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Default Value</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ca.name</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ManagementCA</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The name of the management CA created during the installation. This value and the following can be ignored if no Management CA is being created for this instance.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ca.dn</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CN=ManagementCA,O=EJBCA Sample,C=SE</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The subject DN of the management CA.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ca.tokentype</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>soft</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The key store for the Management CA's keys. <i class=" ">soft </i>results in a PKCS#12 key store stored in the database, while the value <i class=" ">org.cesecore.keys.token.PKCS11CryptoToken</i> should be used if the key store is stored in an HSM.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>ca.tokenpassword</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>null</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Set's the token password for the Management CA's key store. Should be <i class=" ">null</i> if no password is being used, such as for soft key stores or nCipher module protection.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ca.tokenproperties</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>/home/ejbca/ejbca/conf/catoken.properties</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Link to a file which defines the HSM token being used by the Management CA. Can be ignored if using a soft key store.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ca.keyspec</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>2048</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Key specification for the Management CA's keys. RSA keys are defined by their key length, while ECDSA keys by their curve name, or the value <i class=" ">implicitlyCA.</i> For more information, see <a   href="ECDSA_Keys_and_Signatures.html">ECDSA Keys and Signatures</a>.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>ca.keytype</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>RSA</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The key type for the Management CA's keys. Available values are <i class=" ">RSA</i>, <i class=" ">ECDSA</i> or <i class=" ">DSA.</i></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ca.signaturealgorithm</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>SHA256WithRSA</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The signature algorithm for the Management CA. Available algorithms are: <i class=" ">SHA1WithRSA, SHA1withECDSA, SHA256WithRSA, SHA256withECDSA</i>.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>ca.validity</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>3650</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Validity for the Management CA.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>ca.policy</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>null</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>The policy id of the Management CA. Policy id determines which PKI policy the CA uses. Use <i class=" ">2.5.29.32.0</i> for 'any policy' (rfc5280) or <i class=" ">null</i> for no policy at all.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>ca.certificateprofile</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ROOTCA</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Certificate profile used by the Management CA. Requires the profile to be imported prior to installation.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section section-2" id="src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-cesecore.properties">
        <h2 class="heading "><span>cesecore.properties</span></h2>
<p   
>The following lists properties required to be configured prior to installation. Note that the configuration file may include other properties than the ones listed below.</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="24%"/>
                                    <col  width="28%"/>
                                    <col  width="47%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Property</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Default Value</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>allow.external-dynamic.configuration</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>false</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Allows EJBCA to read <i class=" ">cesecore.properties</i> from an external directory. For more information, see <a   href="Handling_Configurations_in_a_Separate_Directory.html">Handling Configurations in a Separate Directory</a>.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>ca.rngalgorithm</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>SHA1PRNG</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The algorithm used by EJBCA's RNG. SHA1PRNG should not be confused with the deprecated signature algorithm SHA1, and is FIPS compliant.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>ca.serialnumberoctetsize</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>20</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The default size of certificate serial numbers, as defined in numbers of octets. Octet sizes will be configurable per CA, but this value will be set for the Management CA. The sign bit of a serial number is included, and as the field size is of constant length (no matter the length of the serial number), entropy will be slightly larger than 20*8 -2. Acceptable values (as defined by RFC5280) are between 4 and 20.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>custom.class.whitelist</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>A comma separated list of custom classes that need to pass EJBCA's deserialization filter, for example custom extensions.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>securityeventsaudit.implementation.X</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>0=org.cesecore.audit.impl.<br/>log4j.Log4jDevice<br/>1=org.cesecore.audit.impl.<br/>integrityprotected.IntegrityProtectedDevice</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Used to define audit log devices. The X allows multiple devices to be used. All EJBCA distributions use the <i class=" ">Log4jDevice</i> (which outputs to the server log) and the <i class=" ">IntegrityProtectedDevice</i>, which outputs audit logs to the database, but the implementation is constructed to allow for custom audit log devices. To explicitly ignore one of these devices, either value may be set to <i class=" ">null. </i>Audit logging will occur during the EJBCA installation to log the values set for the Management CA.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section section-2" id="src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-ejbca.properties">
        <h2 class="heading "><span>ejbca.properties</span></h2>
<p   
>The following lists properties required to be configured prior to installation. Note that the configuration file may include other properties than the ones listed below.</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="21%"/>
                                    <col  width="33%"/>
                                    <col  width="45%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Property</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Default Value</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>appserver.home</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>$APPSRV_HOME</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The home directory of the application server. By default, an environment variable set to <i class=" ">$APPSRV_HOME</i> will be used.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>appserver.type</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>&lt;auto-detect&gt;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The type of application server being used, but normally this will be auto-detected by the installation scripts. If needed to be set explicitly, possible values are <i class=" ">jboss, glassfish.</i></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>ejbca.productionmode</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>true</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Whether EJBCA should be deployed in production mode, which means omitting some classes which are used only for testing and may be a security risk if deployed in a production environment.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>allow.external-dynamic.configuration</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>false</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Allows EJBCA to read <i class=" ">ejbca.properties</i> from an external directory. For more information, see <a   href="Handling_Configurations_in_a_Separate_Directory.html">Handling Configurations in a Separate Directory</a>.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section section-2" id="src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-web.properties">
        <h2 class="heading "><span>web.properties</span></h2>
<p   
>The following lists properties required to be configured prior to installation. Note that the configuration file may include other properties than the ones listed below.</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="22%"/>
                                    <col  width="32%"/>
                                    <col  width="45%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Property</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Default Value</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>web.nosslconfigure</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>false</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Set to <i class=" ">true </i>if it's desired to not have the key store deployment command configure the application server's SSL settings. May be used to harden exposed installations such as VAs that may not use TLS.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>java.trustpassword</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>changeit</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The password for the Java trust key store (<i class=" ">truststore.jks). </i>In order to ward off possible issues with Ant, avoid characters (such as <i class=" ">$</i>) that need to be escaped.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>superadmin.cn</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>SuperAdmin</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The Common Name (CN) for the initial super admin user.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>superadmin.dn</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>CN=${superadmin.cn},O=EJBCA Sample,C=SE</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The complete Subject DN for the initial super admin user. Note that it must start with the CN described above.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>superadmin.validity</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>2y</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Allows specifying the superadmin certificate validity during installation. If not set (commented out), the default of 2 years superadmin certificate validity is used.<br/>Use the ISO 8601 date format according to the following examples: [yyyy-MM-dd HH:mm:ssZZ]: '2019-12-10 11:56:19+01:00'<br/>or<br/>(*y *mo *d *h *m *s) - y=365 days, mo=30 days<br/>Setting a superadmin.validity value creates an End Entity profile and a Certificate Profile specifically used for the purpose of changing the default superadmin user's validity.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>superadmin.password</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ejbca</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The password for the initial super admin's key store (<i class=" ">superadmin.p12</i>).</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>superadmin.batch</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>false</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Set to true if you don't want the super admin key store to be generated during installation, in order to generate it manually.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>httpsserver.password</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>serverpwd</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The password for the application server's key store (<i class=" ">keystore.jks)</i>.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>httpsserver.hostname</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>localhost</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The hostname of this instance.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>httpsserver.dn</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>CN=${httpsserver.hostname},O=EJBCA Sample,C=SE</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The Subject DN of the TLS certificate used by EJBCA's UI.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>httpsserver.an</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>dnsName=${httpsserver.hostname}</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The Subject Alternative Name (SAN) of the TLS certificate used by EJBCA's UI. Up to two dnsName fields can be added.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>httpserver.pubhttp</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>8080</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The public http port to configure the application server for.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>httpserver.pubhttps</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>8442</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The public https port to configure the application server for.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>httpserver.privhttps</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>8443</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The private https port to configure the application server for.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>httpserver.external.privhttps</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The same as httpserver.privhttps</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The private port to expose externally, i.e if an Apache proxy is configured in front of JBoss 443 may be used instead.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>httpserver.external.fqdn</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>The fully qualified domain name (FQDN) of the front-end, e.g. an Apache proxy. In order to build an absolute URL, the server name is retrieved from the web client request. Leave blank if running without Apache proxy, or with Apache proxy via AJP (not with ProxyPass), while ${httpsserver.hostname} should be configured when an Apache proxy is used on the same server as EJBCA. Lastly, set any FQDN when an Apache proxy with a ProxyPass directive is used (on any server).</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>httpsserver.bindaddress.pubhttp<br/>httpsserver.bindaddress.pubhttps<br/>httpsserver.bindaddress.privhttps</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0.0.0.0</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Set to only allow connections from the defined IP.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>web.reqcertindb</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>true</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Set to <i class=" ">false</i> in order to all the use of authentication certificates issued by a known CA but not in the database. Typically used if using an external CA to issue administrative certificates, for managing sub CAs or for setup EJBCA as an RA.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>cryptotoken.p11.lib.<i class=" ">N.</i>name<br/>cryptotoken.p11.lib.<i class=" ">N.</i>file</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The name(s) and location(s) of all used PKCS#11 library files.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>cryptotoken.p11.attr.<i class=" ">N</i>.name<br/>cryptotoken.p11.attr.<i class=" ">N</i>.file</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The PKCS#11 attribute files to be used, in case the ones bundled with EJBCA are not sufficient.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section section-2" id="src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-database.properties">
        <h2 class="heading "><span>database.properties</span></h2>
<p   
>The configuration file database.properties specifies the properties required for setting up the database connection with the application server.</p>
<p   
>The following lists properties required to be configured prior to installation. Note that the configuration file may include other properties than the ones listed below.</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="22%"/>
                                    <col  width="33%"/>
                                    <col  width="44%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Property</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Default Value</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>datasource.jndi-name</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>EjbcaDS</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The name of the datasource of the EJBCA database.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>database.name</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>h2</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The name of the database being used. Available values are <i class=" ">mysql, postgres, mssql, oracle, sybase, onformix, derby, db2, ingres, </i>and<i class=" "> h2</i>. For MariaDB, <i class=" ">mysql </i>can be used.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>database.url</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>jdbc:h2:~/ejbcadb;DB_CLOSE_DELAY=-1</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The URL to the database.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>database.driver</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>h2</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The name of the database driver.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>database.username</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>sa</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The username set for the EJBCA database.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>database.useSeparateCertificateTable</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>false</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Set to <i class=" ">true</i> in order to store the certificate bodies in the Base64CertificateData table instead of along with the other information in the CertificateData table. May increase performance in deployments of 100 million certificates or greater.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section section-2" id="src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-databaseprotection.properties">
        <h2 class="heading "><span>databaseprotection.properties</span></h2>
<p   
><i class=" "></i></p>
<p   
><i class=" "><span class="status blue " >ENTERPRISE</span>
 This is an EJBCA Enterprise feature.</i></p>
<p   
>The configuration file databaseprotection.properties specifies the configuration used to sign the rows of various tables in order to give evidence of tampering, most commonly the AuditRecordData table.</p>
<p   
>The following lists properties required to be configured prior to installation. Note that the configuration file may include other properties than the ones listed below.</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="22%"/>
                                    <col  width="33%"/>
                                    <col  width="44%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Property</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Default Value</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>databaseprotection.enablesign</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>false</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Sets signing of all tables globally. To enable signing for a specific table, append the table name of the entity object (see the table definitions for a mapping) to the property, i.e</p>
<p  class="p1" 
><i class=" ">databaseprotection.enablesign.AuditRecordData=true. </i>By setting the value globally to <i class=" ">true</i> and an individual table to <i class=" ">false</i>, that table may be excluded.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p  class="p1" 
>databaseprotection.enableverify</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>false</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Enforces verification of rows when read. Similar to <i class=" ">databaseprotection.enablesign, </i>this value can either be set globally or for individual tables.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    </div>
    <div class="section section-1" id="src-100270447_safe-id-aWQtLk1hbmFnaW5nRUpCQ0FDb25maWd1cmF0aW9uc3Y3LjQuMy1OZXh0U3RlcDpDcmVhdGluZ3RoZURhdGFiYXNl">
        <h1 class="heading "><span>Next Step: Creating the Database</span></h1>
<p   
>For more information on setting up your database and creating database indexes, see <a   href="Creating_the_Database.html">Creating the Database</a>.</p>
    </div>
    <div class="section section-1" id="src-100270447_id-.ManagingEJBCAConfigurationsv7.4.3-RelatedContent">
        <h1 class="heading "><span>Related Content</span></h1>
<ul class=" "><li class=" "><p   
><a   href="Handling_Configurations_in_a_Separate_Directory.html">Handling Configurations in a Separate Directory</a></p>
</li></ul>    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Installation_Prerequisites.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Installation Prerequisites</span>
        </a>
                <a href="Creating_the_Database.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Creating the Database</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
