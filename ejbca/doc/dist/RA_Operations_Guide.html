<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>RA Operations Guide - EJBCA - Documentation Space</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="108530570">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_7.4.3.2_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=85924416"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_7.4.3.2_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Documentation.html">EJBCA Documentation</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_Operations.html">EJBCA Operations</a></li>
                                                                                     <li><a href="EJBCA_Operations_Guide.html">EJBCA Operations Guide</a></li>
                                                            </ul>
</div>            <h1 id="src-85924416"> <span>RA Operations Guide</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
>This RA Operations Guide covers EJBCA RA Management tasks and describes the EJBCA menu sections and the functions you can perform in the EJBCA RA GUI.</p>
<p   
>For information on RA concepts, see <a   href="EJBCA_RA_Concept_Guide.html">EJBCA RA Concept Guide</a>.</p>
<p   
></p>
<ul class="toc-indentation "></ul>    <div class="section section-1" id="src-85924416_id-.RAOperationsGuidev7.4.0-Overview">
        <h1 class="heading "><span>Overview</span></h1>
<p   
>The EJBCA RA UI is the portal for all end entity related operations, from enrolling certificates to administrating access for other RA administrators. The RA can either exist locally on the same instance as the CA, or be proxied to the CA via <a   href="Peer_Systems.html">peers</a>.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>The RA can be configured to both use certificate authentication or to allow for public access. In either case, the menu items described on this page and its sub-pages will only appear in accordance to the rights set up for that user. Additionally, both the user and the peer connector itself (if using) have their access rights limited to only permitted <a   href="Certificate_Authority_Overview.html">CAs</a> and <a   href="Managing_Role_Namespaces.html">role namespaces</a>.</p>
        </div>
    </div>
    </div>
    <div class="section section-1" id="src-85924416_id-.RAOperationsGuidev7.4.0-AccessRulesfortheRA">
        <h1 class="heading "><span>Access Rules for the RA</span></h1>
<p   
>Authorization on the RA is fed from the configuration from the CA. To find out how to set up access rules for your RA Administrators, see <a   href="RA_Administrator_Access_Rules.html">RA Administrator Access Rules</a>.</p>
    </div>
    <div class="section section-1" id="src-85924416_safe-id-aWQtLlJBT3BlcmF0aW9uc0d1aWRldjcuNC4wLUVucm9sbGluZ0NlcnRpZmljYXRlcyxDcmVhdGluZ0tleVN0b3Jlc2FuZFJldHJpZXZpbmdHZW5lcmF0ZWRDZXJ0aWZpY2F0ZXM">
        <h1 class="heading "><span>Enrolling Certificates, Creating Key Stores and Retrieving Generated Certificates</span></h1>
<p   
>The heart of any RA is the ability to enroll for certificates and key stores. The EJBCA RA allows for both having the server generate key stores or simply sign a supplied CSR, and can also be used to pre-configure end entities for the end user to enroll against at a later date. For more information, see <a   href="Creating_Certificates_on_the_RA.html">Creating Certificates on the RA</a>.</p>
    </div>
    <div class="section section-1" id="src-85924416_id-.RAOperationsGuidev7.4.0-CertificateandEndEntityLifecycleManagement">
        <h1 class="heading "><span>Certificate and End Entity Lifecycle Management</span></h1>
<p   
>Managing certificates is an essential day-to-day task of RA administration. The EJBCA provides a full interface for searching among certificates and end entities in order to find certificates needing renewal, or responding from requests from users to suspend and revoke certificates. For more information, see <a   href="Certificate_and_End_Entity_Life_Cycle_Management.html">Certificate and End Entity Lifecycle Management</a>.</p>
    </div>
    <div class="section section-1" id="src-85924416_id-.RAOperationsGuidev7.4.0-ManageRequests">
        <h1 class="heading "><span>Manage Requests</span></h1>
<p   
>EJBCA's powerful approvals mechanism is naturally used in the RA as well, though it's limited to enrollment, renewal and revocation operations. The EJBCA RA provides an interface to manage approvals, view other pending approval requests and audit past operations. For more information, see <a   href="Managing_Requests_in_the_RA_UI.html">Managing Requests in the RA UI</a>.</p>
    </div>
    <div class="section section-1" id="src-85924416_id-.RAOperationsGuidev7.4.0-CACertificatesandCRLs">
        <h1 class="heading "><span>CA Certificates and CRLs</span></h1>
<p   
>The <strong class=" ">CA Certificates and CRLs</strong> screen allows downloading CA certificates and CRLs for CAs that you have access to.</p>
<p   
>The CAs you can access to are listed in a table displaying the following:</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="20%"/>
                                    <col  width="79%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Column</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Certificate Authority</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Name of Certificate Authority.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CRL</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <ul class="alternate "><li class=" "><p   
><strong class=" ">Full:</strong> Download a full CRL.</p>
</li><li class=" "><p   
><strong class=" ">Delta:</strong> Download a deltaCRL if one is available.</p>
</li></ul>            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Certificate</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <ul class="alternate "><li class=" "><p   
><strong class=" ">PEM:</strong> Download certificate in PEM format.</p>
</li><li class=" "><p   
><strong class=" ">DER:</strong> Download certificate in binary format.</p>
</li></ul>            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Certificate chain</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Downloads a certificate chain for a sub CA, the sub CA certificate(s) and root CA certificate:</p>
<ul class="alternate "><li class=" "><p   
><strong class=" ">PEM:</strong> Download certificate chain in PEM format.</p>
</li><li class=" "><p   
><strong class=" ">JKS:</strong> Download certificate chain in a Java Keystore format.</p>
</li><li class=" "><p   
><strong class=" ">PKCS#7:</strong> Download certificate chain as a certificate-only binary PKCS#7 (CMS) file.</p>
</li></ul>            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Browser import</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Downloads the CA certificate with headers to trigger a browser import.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="section section-2" id="src-85924416_id-.RAOperationsGuidev7.4.0-DownloadCACertificateFingerprintSheet">
        <h2 class="heading "><span>Download CA Certificate Fingerprint Sheet</span></h2>
<p   
>To download a YAML text document with the CA Certificate fingerprints of all CAs you have access to, click <strong class=" ">Download Fingerprints</strong>. This is useful during a key ceremony and eliminates the need for downloading CA certificates and computing the fingerprints manually using a third-party tool such as OpenSSL. The fingerprint is computed using SHA-256.</p>
    </div>
    <div class="section section-2" id="src-85924416_id-.RAOperationsGuidev7.4.0-DownloadCACertificateBundle">
        <h2 class="heading "><span>Download CA Certificate Bundle</span></h2>
<p   
>To download a compressed zip file containing the CA certificates of all CAs you have access to, click <strong class=" ">Download Certificate Bundle</strong>. The certificates in the bundle are provided in binary format (DER).</p>
    </div>
    </div>
    <div class="section section-1" id="src-85924416_id-.RAOperationsGuidev7.4.0-RoleManagement">
        <h1 class="heading "><span>Role Management</span></h1>
<p  class="auto-cursor-target" 
>In order to allow for Managed PKI setups using the EJBCA RA, the RA makes full use of access rights and <a   href="Managing_Role_Namespaces.html">role namespaces</a>. This allows an RA administrator with sufficient access rights to create duplicate or further constrained RA administrators within the same namespace in order to handle local user administration without needing to interact with the CA. For more information, see <a   href="Managing_Roles_and_Access_Rules_from_the_RA.html">Managing Roles and Access Rules from the RA</a>.</p>
    </div>
    <div class="section section-1" id="src-85924416_id-.RAOperationsGuidev7.4.0-EnablingKeyRecovery">
        <h1 class="heading "><span>Enabling Key Recovery</span></h1>
<p   
>To perform key recovery for a user, key recovery has to be enabled in EJBCA System Configuration. To activate key recovery:</p>
<ol class=" "><li class=" "><p   
>In the CA UI on the CA, go to <strong class=" ">System Configuration</strong>.</p>
</li><li class=" "><p   
>On the <strong class=" ">Basic Configuration</strong> tab, for Enable Key Recovery, select <strong class=" ">Activate [x]</strong></p>
</li></ol><p   
>Additionally, the end entity profile used to create the end entity requires key recovery to be enabled.</p>
    <div class="section section-2" id="src-85924416_id-.RAOperationsGuidev7.4.0-UsingLocalKeyGeneration">
        <h2 class="heading "><span>Using Local Key Generation</span></h2>
<p   
>Local key generation is used when the key recovery data (encrypted key pair) is to be stored on an external RA rather than the CA. For more information, see <a   href="Key_Recovery.html">Key Recovery</a>.</p>
<p   
>To activate local key generation, do the following.</p>
<ol class=" "><li class=" "><p   
>In the CA UI on the <strong class=" ">RA</strong>, go to <strong class=" ">System Configuration</strong>.</p>
</li><li class=" "><p   
>On the tab <strong class=" ">Basic Configuration</strong>, for Enable Key Recovery, select <strong class=" ">Activate [x]</strong> and <strong class=" ">Force Local Key Generation [x]</strong>.</p>
</li><li class=" "><p   
>Select a crypto token for encryption of the key pairs (the crypto token must be created and activated before this step).</p>
</li><li class=" "><p   
>Select a crypto token key.</p>
</li></ol>    </div>
    </div>
    <div class="section section-1" id="src-85924416_safe-id-aWQtLlJBT3BlcmF0aW9uc0d1aWRldjcuNC4wLUN1c3RvbWl6aW5ndGhlUkEnc0FwcGVhcmFuY2U">
        <h1 class="heading auto-cursor-target"><span>Customizing the RA's Appearance</span></h1>
<p   
>The RA's stylesheets can easily be customized and provided with a custom logo to suit your RA needs. To find out how, see <a   href="Customizing_the_RA_Appearance.html">Customizing the RA Appearance</a>.</p>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Managing_CVC_CAs.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Managing CVC CAs</span>
        </a>
                <a href="Certificate_and_End_Entity_Life_Cycle_Management.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Certificate and End Entity Life Cycle Management</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
