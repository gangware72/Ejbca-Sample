<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Part 3: EJBCA Administration - EJBCA - Documentation Space</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="108530570">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_7.4.3.2_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=85924680"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_7.4.3.2_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Documentation.html">EJBCA Documentation</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_Integration.html">EJBCA Integration</a></li>
                                                                                                         <li class="shortcut"><a href="Integrating_with_Third-Party_Applications.html">Integrating with Third-Party Applications</a></li>
                                                                                     <li><a href="Auto_Enrollment_Configuration_Guide.html">Auto Enrollment Configuration Guide</a></li>
                                                            </ul>
</div>            <h1 id="src-85924680"> <span>Part 3: EJBCA Administration</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
>    <span style="color: #000000;">
The following sections cover administrating EJBCA and include instructions on how to create a 3-tier CA hierarchy, add custom certificate extensions, and how to create certificate profiles, end entities, and administrator roles.    </span>
</p>
<p   
>    <span style="color: #000000;">
    </span>
</p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDEtQ3JlYXRlMy10aWVyQ0FIaWVyYXJjaHk">Step 1 - Create 3-tier CA Hierarchy</a></p>
</li><li class=" "><p   
><a   href="#src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDItQ3JlYXRlQ3VzdG9tQ2VydGlmaWNhdGVFeHRlbnNpb25z">Step 2 - Create Custom Certificate Extensions</a></p>
</li><li class=" "><p   
><a   href="#src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDMtQ3JlYXRlVXNlcmFuZENvbXB1dGVyQXV0b0Vucm9sbG1lbnRDZXJ0aWZpY2F0ZVByb2ZpbGVz">Step 3 - Create User and Computer Auto Enrollment Certificate Profiles</a></p>
</li><li class=" "><p   
><a   href="#src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDQtQ3JlYXRlVG9tY2F0U2VydmVyYW5kV2ViU2VydmljZXNBUElDZXJ0aWZpY2F0ZVByb2ZpbGVz">Step 4 - Create Tomcat Server and Web Services API Certificate Profiles</a></p>
</li><li class=" "><p   
><a   href="#src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDUtQ3JlYXRlVXNlcmFuZENvbXB1dGVyQXV0b0Vucm9sbG1lbnRFbmRFbnRpdHlQcm9maWxlcw">Step 5 - Create User and Computer Auto Enrollment End Entity Profiles</a></p>
</li><li class=" "><p   
><a   href="#src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDYtQ3JlYXRlVG9tY2F0U2VydmVyYW5kV2ViU2VydmljZXNBUElFbmRFbnRpdHlQcm9maWxlcw">Step 6 - Create Tomcat Server and Web Services API End Entity Profiles</a></p>
</li><li class=" "><p   
><a   href="#src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDctQ3JlYXRlVG9tY2F0YW5kV2ViU2VydmljZXNFbmRFbnRpdGllcw">Step 7 - Create Tomcat and Web Services End Entities</a></p>
</li><li class=" "><p   
><a   href="#src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDgtQ3JlYXRlQWRtaW5pc3RyYXRvclJvbGVzZm9yV2ViU2VydmljZXNDbGllbnQ">Step 8 - Create Administrator Roles for Web Services Client</a></p>
</li></ul><p   
>    <span style="color: #000000;">
In the examples below, the Certificate Services hostname is <strong class=" ">csserver.yourcompany.com</strong>. The text enclosed in angle brackets should be replaced with names in your environment.    </span>
</p>
    <div class="section section-1" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDEtQ3JlYXRlMy10aWVyQ0FIaWVyYXJjaHk">
        <h1 class="heading "><span>Step 1 - Create 3-tier CA Hierarchy</span></h1>
<p   
>    <span style="color: #000000;">
The following sections cover how to create a 3-tier CA (Root CA, Intermediate CA, and Issuing CA) using soft keystores.    </span>
</p>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlUm9vdENB">
        <h2 class="heading "><span>Create Root CA</span></h2>
<p   
>    <span style="color: #000000;">
Follow the steps below to create a Root CA Crypto Token, a Root CA Certificate Profile, and then the Root CA certificate.    </span>
</p>
    <div class="section section-3" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlUm9vdENBQ3J5cHRvVG9rZW4">
        <h3 class="heading "><span>Create Root CA Crypto Token</span></h3>
<p   
>    <span style="color: #000000;">
To create Crypto Tokens for the Root CA:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
In EJBCA, select <strong class=" ">Crypto Tokens </strong>under<strong class=" "> CA Functions, </strong>and then click<strong class=" "> Create new</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Specify the following on the New Crypto Token page and click <strong class=" ">Save.</strong>    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Name:</strong> As name for the Crypto Token, specify &quot;Root CA Token&quot;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Type=</strong><strong class=" ">Soft</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Authentication</strong><strong class=" "> Code</strong>: Enter a password for the token.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Auto-activation</strong>: Clear <strong class=" ">Use</strong>.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Create three key pairs within the Crypto Token:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Generate a <strong class=" ">signKey</strong> of size RSA 4096, used for cert signing.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Generate a <strong class=" ">defaultKey</strong> of size RSA 4096, used for everything not signing or test.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Generate a <strong class=" ">testKey</strong> of size RSA 1024, used for testing.    </span>
</p>
</li></ol></li></ol>    </div>
    <div class="section section-3" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlUm9vdENBQ2VydGlmaWNhdGVQcm9maWxl">
        <h3 class="heading "><span>Create Root CA Certificate Profile</span></h3>
<p   
>    <span style="color: #000000;">
To create a Root CA Certificate Profile:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Certificate Profiles</strong> under <strong class=" ">CA Functions.</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Clone the ROOTCA profile to create your own profile for the Root CA:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Clone</strong> next to the ROOTCA profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Specify &quot;Root CA Certificate Profile&quot; and click <strong class=" ">Create</strong> from template.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Edit</strong> on the new <strong class=" ">Root CA Certificate Profile</strong> and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available key algorithms</strong>: RSA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available bit lengths:</strong> 4096.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Validity:</strong> 25y.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">LDAP DN order</strong>: Clear (to get X509 DN ordering) for greater compatibility with systems that use certificates.<br/>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs:</strong> Any CA.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to save the Root CA Profile.    </span>
</p>
</li></ol>    </div>
    <div class="section section-3" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlUm9vdENBQ2VydGlmaWNhdGU">
        <h3 class="heading "><span>Create Root CA Certificate</span></h3>
<p   
>    <span style="color: #000000;">
To create a Root CA Certificate:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Certificate Authorities</strong> under <strong class=" ">CA Functions</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
In the <strong class=" ">Add CA</strong> field, enter the name &quot;Root CA&quot; and click <strong class=" ">Create</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
On the Create CA page, specify the following and then click Create:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Signing Algorithm:</strong> SHA256WithRSA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Crypto Token:</strong> Root CA Token.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Subject DN:</strong> &lt;<strong class=" ">RootCASubjectDN</strong>&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Signed By:</strong> Self Signed.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Certificate Profile:</strong> Root CA Certificate Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Validity:</strong> 25y.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">CRL Distribution Point:</strong> &lt;<strong class=" ">http://crl.yourcompany.com/Root_CA.crl</strong>&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">OCSP Service Locator URI:</strong> &lt;<strong class=" ">http://yourocsp.company.com</strong>&gt;.    </span>
</p>
</li></ol></li></ol>    </div>
    </div>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlSW50ZXJtZWRpYXRlQ0E">
        <h2 class="heading "><span>Create Intermediate CA</span></h2>
<p   
>    <span style="color: #000000;">
Follow the steps below to create an Intermediate CA Crypto Token, an Intermediate CA Certificate Profile, and then an Intermediate CA certificate.    </span>
</p>
    <div class="section section-3" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlSW50ZXJtZWRpYXRlQ0FDcnlwdG9Ub2tlbg">
        <h3 class="heading "><span>Create Intermediate CA Crypto Token</span></h3>
<p   
>    <span style="color: #000000;">
To create an Intermediate CA Crypto Token:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
In EJBCA, select <strong class=" ">Crypto Tokens </strong>under<strong class=" "> CA Functions, </strong>and then click<strong class=" "> Create new</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Specify the following on the New Crypto Token page and click <strong class=" ">Save.</strong>    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Name:</strong> As name for the Crypto Token, specify &quot;Intermediate CA Token&quot;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Type=</strong><strong class=" ">Soft</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Authentication</strong><strong class=" "> Code</strong>: Enter a password for the token.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Auto-activation</strong>: Clear <strong class=" ">Use</strong>.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Create three key pairs within the Crypto Token:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Generate a <strong class=" ">signKey</strong> of size RSA 4096, used for cert signing.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Generate a <strong class=" ">defaultKey</strong> of size RSA 4096, used for everything not signing or test.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Generate a <strong class=" ">testKey</strong> of size RSA 1024, used for testing.    </span>
</p>
</li></ol></li></ol>    </div>
    <div class="section section-3" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlSW50ZXJtZWRpYXRlQ0FDZXJ0aWZpY2F0ZVByb2ZpbGU">
        <h3 class="heading "><span>Create Intermediate CA Certificate Profile</span></h3>
<p   
>    <span style="color: #000000;">
To create an Intermediate CA Certificate Profile:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Certificate Profiles</strong> under <strong class=" ">CA Functions</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Clone the SUBCA profile to create your own profile for the Intermediate CA:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Clone</strong> next to the SUBCA profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Specify &quot;Intermediate CA Certificate Profile&quot; and click <strong class=" ">Create</strong> from template.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Edit</strong> on the new <strong class=" ">Intermediate CA Certificate Profile</strong> and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available key algorithms</strong>: RSA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available bit lengths:</strong> 4096.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Validity:</strong> 20y.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">LDAP DN order</strong>: Clear (to get X509 DN ordering) for greater compatibility with systems that use certificates.<br/>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs:</strong> Root CA.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to save the Intermediate CA Certificate Profile.    </span>
</p>
</li></ol>    </div>
    <div class="section section-3" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlSW50ZXJtZWRpYXRlQ0FDZXJ0aWZpY2F0ZQ">
        <h3 class="heading "><span>Create Intermediate CA Certificate</span></h3>
<p   
>    <span style="color: #000000;">
To create an Intermediate CA Certificate:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Certificate Authorities</strong> under <strong class=" ">CA Functions</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
In the <strong class=" ">Add CA</strong> field, enter the name &quot;Intermediate CA&quot; and click <strong class=" ">Create</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
On the Create CA page, specify the following and then click <strong class=" ">Create</strong>:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Signing Algorithm:</strong> SHA256WithRSA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Crypto Token:</strong> Intermediate CA Token.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Subject DN:</strong> <strong class=" ">&lt;IntermediateCASubjectDN</strong>&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Signed By:</strong> Root CA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Certificate Profile:</strong> Intermediate CA Certificate Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Validity:</strong> 20y.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">CRL Distribution Point:</strong> &lt;<strong class=" ">http://crl.yourcompany.com/Intermediate_CA.crl</strong>&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">OCSP Service Locator URI:</strong> &lt;<strong class=" ">http://ocsp.yourcompany.com</strong>&gt;.    </span>
</p>
</li></ol></li></ol>    </div>
    </div>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlSXNzdWluZ0NB">
        <h2 class="heading "><span>Create Issuing CA</span></h2>
    <div class="section section-3" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlSXNzdWluZ0NBQ3J5cHRvVG9rZW4">
        <h3 class="heading "><span>Create Issuing CA Crypto Token</span></h3>
<p   
>    <span style="color: #000000;">
To create an Issuing CA Crypto Token:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
In EJBCA, select <strong class=" ">Crypto Tokens </strong>under<strong class=" "> CA Functions, </strong>and then click<strong class=" "> Create new</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Specify the following on the New Crypto Token page and click <strong class=" ">Save.</strong>    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Name:</strong> As name for the Crypto Token, specify &quot;Issuing CA Token&quot;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Type=</strong><strong class=" ">Soft</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Authentication</strong><strong class=" "> Code</strong>: Enter a password for the token.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Auto-activation</strong>: Clear <strong class=" ">Use</strong>.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Create three key pairs within the Crypto Token:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Generate a <strong class=" ">signKey</strong> of size RSA 4096, used for cert signing.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Generate a <strong class=" ">defaultKey</strong> of size RSA 4096, used for everything not signing or test.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Generate a <strong class=" ">testKey</strong> of size RSA 1024, used for testing.    </span>
</p>
</li></ol></li></ol>    </div>
    <div class="section section-3" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlSXNzdWluZ0NBQ2VydGlmaWNhdGVQcm9maWxl">
        <h3 class="heading "><span>Create Issuing CA Certificate Profile</span></h3>
<p   
>    <span style="color: #000000;">
To create an Issuing CA Certificate Profile:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Certificate Profiles</strong> under <strong class=" ">CA Functions.</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Clone the SUBCA profile to create your own profile for the Issuing CA:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Clone</strong> next to the <strong class=" ">SUBCA</strong> profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Specify &quot;Issuing CA Certificate Profile&quot; and click <strong class=" ">Create</strong> from template.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Edit</strong> on the new <strong class=" ">Issuing CA Certificate Profile</strong> and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available key algorithms</strong>: RSA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available bit lengths:</strong> 4096.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Validity:</strong> 15y.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">LDAP DN order</strong>: Clear (to get X509 DN ordering) for greater compatibility with systems that use certificates.<br/>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs:</strong> Intermediate CA.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to save the Issuing CA Certificate Profile.    </span>
</p>
</li></ol>    </div>
    <div class="section section-3" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlSXNzdWluZ0NBQ2VydGlmaWNhdGU">
        <h3 class="heading "><span>Create Issuing CA Certificate</span></h3>
<p   
>    <span style="color: #000000;">
To create an Issuing CA Certificate:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Certificate Authorities</strong> under <strong class=" ">CA Functions</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
In the <strong class=" ">Add CA</strong> field, enter the name &quot;Issuing CA&quot; and click <strong class=" ">Create</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
On the Create CA page, specify the following and then click <strong class=" ">Create</strong>:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Signing Algorithm:</strong> SHA256WithRSA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Crypto Token:</strong> Issuing CA Token.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Subject DN:</strong> <strong class=" ">&lt;IssuingCASubjectDN</strong>&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Signed By:</strong> Intermediate CA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Certificate Profile:</strong> Issuing CA Certificate Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Validity:</strong> 15y.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">CRL Distribution Point:</strong> &lt;<strong class=" ">http://crl.yourcompany.com/Issuing_CA.crl</strong>&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">OCSP Service Locator URI:</strong> &lt;<strong class=" ">http://ocsp.yourcompany.com</strong>&gt;.    </span>
</p>
</li></ol></li></ol>    </div>
    </div>
    </div>
    <div class="section section-1" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDItQ3JlYXRlQ3VzdG9tQ2VydGlmaWNhdGVFeHRlbnNpb25z">
        <h1 class="heading "><span>Step 2 - Create Custom Certificate Extensions</span></h1>
<p   
>    <span style="color: #000000;">
To create the custom extension for the Microsoft template information, do the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
In EJBCA, click <strong class=" ">System Configuration.</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Select the <strong class=" ">Custom Certificate Extensions</strong> tab and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Object Identifier (OID)</strong>: &quot;1.3.6.1.4.1.311.21.7&quot;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Label:</strong> &quot;Certificate Template Information&quot;.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Add</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Edit</strong> on the added object and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Select the <strong class=" ">Encoding</strong> = <strong class=" ">DEROBJECT</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Set <strong class=" ">Dynamic</strong> to <strong class=" ">true.</strong>    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save.</strong>    </span>
</p>
</li></ol>    </div>
    <div class="section section-1" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDMtQ3JlYXRlVXNlcmFuZENvbXB1dGVyQXV0b0Vucm9sbG1lbnRDZXJ0aWZpY2F0ZVByb2ZpbGVz">
        <h1 class="heading "><span>Step 3 - Create User and Computer Auto Enrollment Certificate Profiles</span></h1>
<p   
>    <span style="color: #000000;">
The following describes how to create user and computer profiles for Auto Enrollment.    </span>
</p>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlQ2VydGlmaWNhdGVQcm9maWxlZm9yVXNlckF1dG9FbnJvbGxtZW50">
        <h2 class="heading "><span>Create Certificate Profile for User Auto Enrollment</span></h2>
<p   
>    <span style="color: #000000;">
To create a certificate profile for User Auto Enrollment:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Certificate Profiles</strong> under <strong class=" ">CA Functions.</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Clone the ENDUSER profile to create your own profile for the Intermediate CA:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Clone</strong> next to the <strong class=" ">ENDUSER</strong> profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Specify &quot;User_Certificate_Profile&quot; and click <strong class=" ">Create</strong> from template.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Edit</strong> on the new <strong class=" ">User_Certificate_Profile</strong> and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Key Usage</strong>: Digital Signature, Non-repudiation, and Key encipherment.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Extended Key Usage</strong>: Client Authentication, Email Protection, and MS Encrypted File System (EFS).    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Used Custom Certificate Extensions</strong>: Certificate Template Information.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs</strong>: Issuing CA.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to save the Certificate Profile.    </span>
</p>
</li></ol>    </div>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlQ2VydGlmaWNhdGVQcm9maWxlZm9yQ29tcHV0ZXJBdXRvRW5yb2xsbWVudA">
        <h2 class="heading "><span>Create Certificate Profile for Computer Auto Enrollment</span></h2>
<p   
>    <span style="color: #000000;">
To create a certificate profile for Computer Auto Enrollment:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Certificate Profiles</strong> under <strong class=" ">CA Functions.</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Clone the ENDUSER profile to create your own profile for the Intermediate CA:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Clone</strong> next to the <strong class=" ">ENDUSER</strong> profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Specify &quot;Computer_Certificate_Profile&quot; and click <strong class=" ">Create</strong> from template.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Edit</strong> on the new <strong class=" ">Computer_Certificate_Profile</strong> and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Key Usage</strong>: Digital Signature and Key encipherment.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Extended Key Usage</strong>: Client Authentication and Server Authentication.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Used Custom Certificate Extensions</strong>: Certificate Template Information.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs</strong>: Issuing CA.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to save the Certificate Profile.    </span>
</p>
</li></ol>    </div>
    </div>
    <div class="section section-1" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDQtQ3JlYXRlVG9tY2F0U2VydmVyYW5kV2ViU2VydmljZXNBUElDZXJ0aWZpY2F0ZVByb2ZpbGVz">
        <h1 class="heading "><span>Step 4 - Create Tomcat Server and Web Services API Certificate Profiles</span></h1>
<p   
>    <span style="color: #000000;">
The following sections cover how to create certificate profiles for the Tomcat server and the Web Services API client.    </span>
</p>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlQ2VydGlmaWNhdGVQcm9maWxlZm9yVG9tY2F0U2VydmVy">
        <h2 class="heading "><span>Create Certificate Profile for Tomcat Server</span></h2>
<p   
>    <span style="color: #000000;">
To create a certificate profile for the Tomcat server:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Certificate Profiles</strong> under <strong class=" ">CA Functions.</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Clone the SERVER profile to create your own profile for the Intermediate CA:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Clone</strong> next to the <strong class=" ">SERVER</strong> profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Specify &quot;Tomcat_Server_Certificate_Profile&quot; and click <strong class=" ">Create</strong> from template.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Edit</strong> for the new <strong class=" ">Tomcat_Server_Certificate_Profile</strong> and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available key algorithms</strong>: RSA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available bit lengths</strong>: 2048 bits.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Validity: </strong>5y.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">CRL Distribution Points</strong>: Use.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Use CA defined CRL Dist. Point</strong>: Use.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Authority Information Access</strong>: Use.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Use CA defined OCSP locator</strong>: Use.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs</strong>: Issuing CA.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to save the Tomcat server Certificate Profile.    </span>
</p>
</li></ol>    </div>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlQ2VydGlmaWNhdGVQcm9maWxlZm9yV2ViU2VydmljZXNBUEljbGllbnQ">
        <h2 class="heading "><span>Create Certificate Profile for Web Services API client</span></h2>
<p   
>    <span style="color: #000000;">
To create a certificate profile for Web Services API client:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Certificate Profiles</strong> under <strong class=" ">CA Functions.</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Clone the ENDUSER profile to create your own profile for the Intermediate CA:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Clone</strong> next to the <strong class=" ">ENDUSER</strong> profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Specify &quot;WebService_Client_Certificate_Profile&quot; and click <strong class=" ">Create</strong> from template.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Edit</strong> for the new <strong class=" ">WebService_Client_Certificate_Profile</strong> and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available key algorithms</strong>: RSA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available bit lengths</strong>: 2048 bits.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Validity: </strong>5y<strong class=" ">.</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs</strong>: ManagementCA.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to save the Web Services API client Certificate Profile.    </span>
</p>
</li></ol>    </div>
    </div>
    <div class="section section-1" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDUtQ3JlYXRlVXNlcmFuZENvbXB1dGVyQXV0b0Vucm9sbG1lbnRFbmRFbnRpdHlQcm9maWxlcw">
        <h1 class="heading "><span>Step 5 - Create User and Computer Auto Enrollment End Entity Profiles</span></h1>
<p   
>    <span style="color: #000000;">
The following describes how to create User and Computer Auto Enrollment End Entity Profiles.    </span>
</p>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlRW5kRW50aXR5UHJvZmlsZWZvclVzZXJBdXRvRW5yb2xsbWVudA">
        <h2 class="heading "><span>Create End Entity Profile for User Auto Enrollment</span></h2>
<p   
>    <span style="color: #000000;">
To create an End Entity Profile for User Auto Enrollment:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">End Entity Profiles</strong> under <strong class=" ">RA Functions</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
In the <strong class=" ">Add Profile</strong> field, specify <strong class=" ">User_End_Entity_Profile</strong> and click <strong class=" ">Add</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Select the <strong class=" ">User_End_Entity_Profile, </strong>click <strong class=" ">Edit End Entity Profile</strong>, and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Subject DN Attributes</strong>: CN.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Subject Alternative Name</strong>: MS UPN, User Principal Name.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default Certificate Profile</strong>: User_Certificate_Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available Certificate Profiles</strong>: User_Certificate_Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default CA</strong>: Issuing CA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs</strong>: Issuing CA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default Token</strong>: User Generated.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available Tokens</strong>: User Generated.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to store the end entity profile.    </span>
</p>
</li></ol>    </div>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlRW5kRW50aXR5UHJvZmlsZWZvckNvbXB1dGVyQXV0b0Vucm9sbG1lbnQ">
        <h2 class="heading "><span>Create End Entity Profile for Computer Auto Enrollment</span></h2>
<p   
>    <span style="color: #000000;">
To create an End Entity Profile for Computer Auto Enrollment:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">End Entity Profiles</strong> under <strong class=" ">RA Functions</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
In the <strong class=" ">Add Profile</strong> field, specify <strong class=" ">Computer_End_Entity_Profile</strong> and click <strong class=" ">Add</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Select the <strong class=" ">Computer_End_Entity_Profile, </strong>click <strong class=" ">Edit End Entity Profile</strong>, and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Subject DN Attributes</strong>: CN.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Subject Alternative Name</strong>: DNS Name.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default Certificate Profile</strong>: Computer_Certificate_Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available Certificate Profiles</strong>: Computer_Certificate_Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default CA</strong>: Issuing CA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs</strong>: Issuing CA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default Token</strong>: User Generated.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available Tokens</strong>: User Generated.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to store the end entity profile.    </span>
</p>
</li></ol>    </div>
    </div>
    <div class="section section-1" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDYtQ3JlYXRlVG9tY2F0U2VydmVyYW5kV2ViU2VydmljZXNBUElFbmRFbnRpdHlQcm9maWxlcw">
        <h1 class="heading "><span>Step 6 - Create Tomcat Server and Web Services API End Entity Profiles</span></h1>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlRW5kRW50aXR5UHJvZmlsZWZvclNTTFNlcnZlckNlcnRpZmljYXRl">
        <h2 class="heading "><span>Create End Entity Profile for SSL Server Certificate</span></h2>
<p   
>    <span style="color: #000000;">
To create an End Entity Profile for the SSL server certificate:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">End Entity Profiles</strong> under <strong class=" ">RA Functions.</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
In the <strong class=" ">Add Profile</strong> field, specify <strong class=" ">TomcatServerEEProfile</strong> and click <strong class=" ">Add</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Select the <strong class=" ">TomcatServerEEProfile</strong>, click <strong class=" ">Edit End Entity Profile</strong>, and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">End Entity E-mail</strong>: Clear.<strong class=" "><br/></strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Subject DN Attributes</strong>: CN.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Subject Alternative Name</strong>: DNS Name.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default Certificate Profile</strong>: Tomcat_Server_Certificate_Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available Certificate Profiles</strong>: Tomcat_Server_Certificate_Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default CA</strong>: Issuing CA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs</strong>: Issuing CA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default Token</strong>: JKS.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available Tokens</strong>: JKS.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to store the end entity profile.    </span>
</p>
</li></ol>    </div>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlRW5kRW50aXR5UHJvZmlsZWZvcldlYlNlcnZpY2VzQ2xpZW50">
        <h2 class="heading "><span>Create End Entity Profile for Web Services Client</span></h2>
<p   
>    <span style="color: #000000;">
To create an End Entity Profile for the Web Services Client:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">End Entity Profiles</strong> under <strong class=" ">RA Functions.</strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
In the <strong class=" ">Add Profile</strong> field, specify <strong class=" ">WebServiceClientEEProfile</strong> and click <strong class=" ">Add</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Select the <strong class=" ">WebServiceClientEEProfile</strong>, click <strong class=" ">Edit End Entity Profile</strong>, and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">End Entity E-mail</strong>: Clear.<strong class=" "><br/></strong>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Subject DN Attributes</strong>: CN.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default Certificate Profile</strong>: WebService_Client_Certificate_Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available Certificate Profiles</strong>: WebService_Client_Certificate_Profile.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default CA</strong>: ManagementCA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available CAs</strong>: ManagementCA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Default Token</strong>: JKS.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Available Tokens</strong>: JKS.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong> to store the end entity profile.    </span>
</p>
</li></ol>    </div>
    </div>
    <div class="section section-1" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDctQ3JlYXRlVG9tY2F0YW5kV2ViU2VydmljZXNFbmRFbnRpdGllcw">
        <h1 class="heading "><span>Step 7 - Create Tomcat and Web Services End Entities</span></h1>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlYW5kRG93bmxvYWRUb21jYXRKS1NLZXlzdG9yZQ">
        <h2 class="heading "><span>Create and Download Tomcat JKS Keystore</span></h2>
<p   
>    <span style="color: #000000;">
Create and download the Tomcat JKS Keystore according to the following steps and replace the text enclosed in angle brackets with the values used in your environment.<br/>    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Add End Entity</strong> under <strong class=" ">RA Functions</strong> and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">End Entity Profile</strong>: TomcatServerEEProfile    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Username:</strong> tomcat_server.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Password:</strong> &lt;PASSWORD&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Confirm Password:</strong> &lt;PASSWORD&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">CN:</strong> &lt;tomcatserver.yourcompany.com&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">DNS Name:</strong> &lt;tomcatserver.yourcompany.com&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Add</strong>.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Select <strong class=" ">Public Web</strong>, click <strong class=" ">Create Keystore</strong> and specify the following:<strong class=" "><br/></strong>    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Username:</strong> tomcat_server.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Password:</strong> &lt;PASSWORD&gt;.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">OK</strong>.<br/>    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Enroll</strong> and save the keystore as <strong class=" ">tomcat_server.jks</strong>.    </span>
</p>
</li></ol>    </div>
    <div class="section section-2" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtQ3JlYXRlYW5kRG93bmxvYWRXZWJTZXJ2aWNlc0pLU0tleXN0b3Jl">
        <h2 class="heading "><span>Create and Download Web Services JKS Keystore</span></h2>
<p   
>    <span style="color: #000000;">
To create and download the Web Services JKS Keystore:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Add End Entity</strong> under <strong class=" ">RA Functions</strong> and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">End Entity Profile</strong>: WebServiceClientEEProfile<br/>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Username:</strong> aewsclient.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Password:</strong> &lt;PASSWORD&gt;    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Confirm Password:</strong> &lt;PASSWORD&gt;    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">CN:</strong> aewsclient.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Add</strong>.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Select <strong class=" ">Public Web</strong>, click <strong class=" ">Create Keystore</strong> and specify the following:<strong class=" "><br/></strong>    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Username:</strong> aewsclient.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Password:</strong> &lt;PASSWORD&gt;    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">OK</strong>.<br/>    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Enroll</strong> and save the keystore as <strong class=" ">aewsclient.jks</strong>.    </span>
</p>
</li></ol>    </div>
    </div>
    <div class="section section-1" id="src-85924680_safe-id-aWQtLlBhcnQzOkVKQkNBQWRtaW5pc3RyYXRpb252Ny40LjAtU3RlcDgtQ3JlYXRlQWRtaW5pc3RyYXRvclJvbGVzZm9yV2ViU2VydmljZXNDbGllbnQ">
        <h1 class="heading "><span>Step 8 - Create Administrator Roles for Web Services Client</span></h1>
<p   
>    <span style="color: #000000;">
To create administrator roles for the Web Services client, do the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">System Functions &gt; Administrator Roles</strong>.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Add </strong>and specify the name for the role: AutoEnrollment Web Services.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Click on <strong class=" ">Members</strong> for <strong class=" ">AutoEnrollment Web Services</strong> and specify the following:    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Match with:</strong> X509: CN, Common Name.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">CA:</strong> ManagementCA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Match value:</strong> aewsclient.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Add</strong>.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Edit Access Rules</strong> for AutoEnrollment Web Services and specify the following:<br/>    </span>
</p>
<ol class=" "><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Role Template:</strong> RA Administrators.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Authorized CA:</strong> Issuing CA.    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">End Entity Rules:</strong> Create End Entities, Delete End Entities, Edit End Entities, and View End Entities.<br/>    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">End Entity Profiles:</strong> Computer_End_Entity_Profile and User_End_Entity_Profile (select other End Entity Profiles that will be used with Auto Enrollment, if any).    </span>
</p>
</li><li class=" "><p   
>    <span style="color: #000000;">
<strong class=" ">Other Rules:</strong> Clear <strong class=" ">View Audit Log</strong>.    </span>
</p>
</li></ol></li><li class=" "><p   
>    <span style="color: #000000;">
Click <strong class=" ">Save</strong>.    </span>
</p>
</li></ol>    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Part_2__MS_Certification_Authority_and_Group_Policies.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Part 2: MS Certification Authority and Group Policies</span>
        </a>
                <a href="Part_4__EJBCA_Certificate_Chain_Deployment_to_Clients.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Part 4: EJBCA Certificate Chain Deployment to Clients</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
