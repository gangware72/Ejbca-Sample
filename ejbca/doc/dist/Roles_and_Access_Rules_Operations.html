<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Roles and Access Rules Operations - EJBCA - Documentation Space</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="108530570">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="EJBCADS.png" />
                </h1>
                <a href="EJBCA_7.4.3.2_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=55607361"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_7.4.3.2_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Documentation.html">EJBCA Documentation</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_Operations.html">EJBCA Operations</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_Operations_Guide.html">EJBCA Operations Guide</a></li>
                                                                                     <li><a href="CA_Operations_Guide.html">CA Operations Guide</a></li>
                                                            </ul>
</div>            <h1 id="src-55607361"> <span>Roles and Access Rules Operations</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>The following describes how to work with roles and access rules. For more information on the general concepts, see <a   href="Roles_and_Access_Rules.html">Roles and Access Rules Overview</a>.</p>
        </div>
    </div>
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-ManagingRoleNamespaces">Managing Role Namespaces</a></p>
</li><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-CreatingaNewAdministrator">Creating a New Administrator</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-CreatingaCertificateProfilefortheAdministrator">Creating a Certificate Profile for the Administrator</a></p>
</li><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-CreatinganEndEntityProfilefortheAdministrator">Creating an End Entity Profile for the Administrator</a></p>
</li><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-CreatinganewRARole">Creating a new RA Role</a></p>
</li><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-AddingnewAdministratorstotheRARole">Adding new Administrators to the RA Role</a></p>
</li><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-TestthenewAdministrator">Test the new Administrator</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-RenewingtheSuperAdministrator">Renewing the Super Administrator</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-RenewingSuperAdminUsingtheAdminGUI">Renewing SuperAdmin Using the Admin GUI</a></p>
</li><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-RenewingSuperAdminUsingtheCLI">Renewing SuperAdmin Using the CLI</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-UsingClientCertificatesIssuedbyExternalCAs">Using Client Certificates Issued by External CAs</a></p>
</li><li class=" "><p   
><a   href="#src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-InstallingEJBCAwithExternalAdministrators">Installing EJBCA with External Administrators</a></p>
</li></ul>    <div class="section section-1" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-ManagingRoleNamespaces">
        <h1 class="heading "><span>Managing Role Namespaces</span></h1>
<p   
><i class=" ">See main page: <a   href="Managing_Role_Namespaces.html">Managing Role Namespaces</a></i></p>
    </div>
    <div class="section section-1" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-CreatingaNewAdministrator">
        <h1 class="heading "><span>Creating a New Administrator</span></h1>
<p   
>Follow the steps below to create a new Administrator certificate, add this Administrator to a role, and test the access.</p>
    <div class="section section-2" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-CreatingaCertificateProfilefortheAdministrator">
        <h2 class="heading "><span>Creating a Certificate Profile for the Administrator</span></h2>
<p   
>Follow the steps below to create a new Certificate Profile for administrators. The administrators certificates will be issued by a CA called ManagementCA.</p>
<ol class=" "><li class=" "><p   
>Under <strong class=" ">CA Functions</strong>, click <strong class=" ">Certificate Profiles</strong>.</p>
</li><li class=" "><p   
>Click <strong class=" ">Clone</strong> for the profile named <strong class=" ">ENDUSER</strong>.</p>
</li><li class=" "><p   
>Enter <i class=" ">AdministratorEndEntityCertificateProfile</i> as the new name and click <strong class=" ">Create from Template</strong>.</p>
</li><li class=" "><p   
>Click <strong class=" ">Edit</strong> for the new profile.</p>
</li><li class=" "><p   
>Under <strong class=" ">Validity</strong>, enter <i class=" ">365d</i> (1 year validity).</p>
</li><li class=" "><p   
>Under <strong class=" ">Key usage</strong>, choose <strong class=" ">Digital Signature</strong> and <strong class=" ">Key encipherment</strong> (Ctrl+Click to select multiple).</p>
</li><li class=" "><p   
>Clear <strong class=" ">Allow Key Usage Override</strong>.</p>
</li><li class=" "><p   
>Select <strong class=" ">Use Extended Key Usage</strong>.</p>
</li><li class=" "><p   
>Under <strong class=" ">Extended Key Usage</strong>, choose <strong class=" ">Client Authentication</strong>.</p>
</li><li class=" "><p   
>Under <strong class=" ">Available bit lengths</strong>, &quot;1024 bit&quot;, &quot;2048 bit&quot; and &quot;4096 bit&quot;.</p>
</li><li class=" "><p   
>Under <strong class=" ">Available CAs</strong>, choose <strong class=" ">ManagementCA</strong> (the CA you use to issue Administrator certificates).</p>
</li><li class=" "><p   
>Click <strong class=" ">Save</strong>.</p>
</li></ol>    </div>
    <div class="section section-2" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-CreatinganEndEntityProfilefortheAdministrator">
        <h2 class="heading "><span>Creating an End Entity Profile for the Administrator</span></h2>
<p   
>Follow the steps below to create a new End Entity Profile for Administrators. The profile will be connected to the Certificate Profile created above.</p>
<ol class=" "><li class=" "><p   
>Under <strong class=" ">RA Functions</strong>, click <strong class=" ">Edit End Entity Profiles</strong>.</p>
</li><li class=" "><p   
>Enter a name for your end entity profile, <i class=" ">AdministratorEndEntityProfile</i>.</p>
</li><li class=" "><p   
>Click<strong class=" "> Create</strong>.</p>
</li><li class=" "><p   
>Select <strong class=" ">AdministratorEndEntityProfile</strong> and click<strong class=" "> Edit End Entity Profile</strong>.</p>
</li><li class=" "><p   
>Under the <strong class=" ">Subject DN Fields</strong>, add DN fields for the Admin DN, for example <i class=" ">O</i>, <i class=" ">UID</i> and <i class=" ">C</i>.</p>
</li><li class=" "><p   
>Under <strong class=" ">Default Certificate Profile</strong>, choose <strong class=" ">AdministratorEndEntityCertificateProfile</strong>.</p>
</li><li class=" "><p   
>Under <strong class=" ">Available Certificate Profiles</strong>, choose <strong class=" ">AdministratorEndEntityCertificateProfile</strong>.</p>
</li><li class=" "><p   
>Under <strong class=" ">Default CA</strong>, choose <strong class=" ">ManagementCA</strong>.</p>
</li><li class=" "><p   
>Under <strong class=" ">Available CAs</strong>, choose <strong class=" ">ManagementCA</strong>.</p>
</li><li class=" "><p   
>Click<strong class=" "> Save</strong>.</p>
</li></ol><p   
>Issue the following new end entity based on the new end entity profile: <tt class=" ">CN: SoftCard RA Admin1</tt>.</p>
    </div>
    <div class="section section-2" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-CreatinganewRARole">
        <h2 class="heading "><span>Creating a new RA Role</span></h2>
<p   
>Follow the steps below to create a RA Administrator role with access to add/list/edit end entities:</p>
<ol class=" "><li class=" "><p   
>Under System Functions, click <strong class=" ">Administrator Roles</strong>.</p>
</li><li class=" "><p   
>Click<strong class=" "> Add</strong>.</p>
</li><li class=" "><p   
>Choose a name for your new administrator group, <strong class=" ">RAAdministratorRole</strong>.</p>
</li><li class=" "><p   
>When the group is created, click<strong class=" "> Access Rules</strong>.</p>
</li><li class=" "><p   
>Choose the <strong class=" ">RA Administrator</strong> role template.</p>
</li><li class=" "><p   
>Under <strong class=" ">Authorized CAs</strong>, choose which CAs the role should have access to and select <strong class=" ">ManagementCA</strong>.</p>
</li><li class=" "><p   
>Under <strong class=" ">Edit End Entity Profiles</strong>, select <strong class=" ">AdministratorEndEntityProfile</strong>.</p>
</li><li class=" "><p   
>Click<strong class=" "> Save</strong>.</p>
</li></ol>    </div>
    <div class="section section-2" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-AddingnewAdministratorstotheRARole">
        <h2 class="heading "><span>Adding new Administrators to the RA Role</span></h2>
<p   
>Follow the steps below to add new administrators to the RA role:</p>
<ol class=" "><li class=" "><p   
>Choose <strong class=" ">Search &gt; Edit End Entities</strong> and select your newly created end entity, choose <strong class=" ">View Certificates</strong>.</p>
</li><li class=" "><p   
>Copy the value of <strong class=" ">Certificate Serial Number</strong>, e.g. <strong class=" ">5F003A0113F507F9</strong>.</p>
</li><li class=" "><p   
>Go to <strong class=" ">Administrator Roles</strong>, click<strong class=" "> Administrators</strong> under <strong class=" ">RAAdministratorRole</strong>.</p>
</li><li class=" "><p   
>Choose the CA that the administrator belongs to, <strong class=" ">ManagementCA</strong>.</p>
</li><li class=" "><p   
>Paste the text from <strong class=" ">&lt;</strong> in the <strong class=" ">Match value</strong>.</p>
</li><li class=" "><p   
>Click <strong class=" ">Add</strong>.</p>
</li></ol><p   
>In EJBCA Enterprise Edition, it is also possible to add a new administrator to an existing role by using the WS API call <strong class=" ">addSubjectToRole</strong> in your application or with the Web Services CLI.</p>
    </div>
    <div class="section section-2" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-TestthenewAdministrator">
        <h2 class="heading "><span>Test the new Administrator</span></h2>
<p   
>Log in with the new administrators to view differences between that and the super administrator. Additionally, try the different roles and privileges to see the differences between them all.</p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>The authorization privileges are cached and there will be a slight delay before a rule change is used.</p>
        </div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-RenewingtheSuperAdministrator">
        <h1 class="heading "><span>Renewing the Super Administrator</span></h1>
<p   
>Renewing the SuperAdmin certificate is done in the same way as for any client certificate. You can reset your SuperAdmin credentials when expired using either the Admin GUI or the CLI.</p>
<p   
>The SuperAdmin certificate is normally issued as a PKCS#12 keystore, if not issued as a browser certificate for smart card enrollment.</p>
    <div class="section section-2" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-RenewingSuperAdminUsingtheAdminGUI">
        <h2 class="heading "><span>Renewing SuperAdmin Using the Admin GUI</span></h2>
<p   
>To renew SuperAdmin using the Admin GUI, do the following:</p>
<ol class=" "><li class=" "><p   
>Go to <strong class=" ">Search/Edit End Entities</strong> and search for user <strong class=" ">superadmin.</strong></p>
</li><li class=" "><p   
>Click <strong class=" ">Edit End Entity</strong>.</p>
</li><li class=" "><p   
>Set a new password and set status to NEW, click <strong class=" ">Save.</strong></p>
</li><li class=" "><p   
>Go to <strong class=" ">EJBCA Public Web</strong> and click <strong class=" ">Create Keystore.</strong></p>
</li><li class=" "><p   
>Enter the username superadmin, and the password set in step 3.</p>
</li><li class=" "><p   
>In the next screen, select key length <strong class=" ">2048</strong> and click <strong class=" ">OK.</strong></p>
</li></ol><p   
>Your new superadmin keystore is downloaded and you can install it in your browser.</p>
    </div>
    <div class="section section-2" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-RenewingSuperAdminUsingtheCLI">
        <h2 class="heading "><span>Renewing SuperAdmin Using the CLI</span></h2>
<p   
>To renew SuperAdmin using the CLI, do the following:</p>
<ol class=" "><li class=" "><p   
>Access your EJBCA server CLI.</p>
</li><li class=" "><p   
>Run the following to reset the status of the SuperAdmin End Entity.</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">bin/ejbca.sh ra setendentitystatus superadmin </code><code class="value">10</code></div>
</div>
    </div>
</li><li class=" "><p   
>Run the following to reset the password. This password is used to protect the superadmin.p12 file and is set to <tt class=" ">password</tt> in the following example:</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">bin/ejbca.sh ra setclearpwd superadmin password</code></div>
</div>
    </div>
</li><li class=" "><p   
>Run the following to process the request from the CLI. The batch command outputs the file to the directory /ejbca/p12.</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">bin/ejbca.sh batch</code></div>
</div>
    </div>
</li></ol><p   
>Your new SuperAdmin keystore is generated and stored in the subdirectory /ejbca/p12. The password is set according to what you specified using the <tt class=" ">setclearpwd</tt> command in step 3 above.</p>
    </div>
    </div>
    <div class="section section-1" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-UsingClientCertificatesIssuedbyExternalCAs">
        <h1 class="heading "><span>Using Client Certificates Issued by External CAs</span></h1>
<p   
>Administrator certificates in EJBCA can be issued by a CA other than a CA in the same installation. This can for example be useful if you want to use a national ID for administration of an organizational PKI.</p>
<p   
>To use a certificate issued by an external CA as Administrator, do the following:</p>
<ol class=" "><li class=" "><p   
>Add the CA-certificate to p12/truststore.jks with<tt class=" "></tt></p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">keytool -</code><code class="keyword">import</code><code class="plain"> -trustcacerts -file externalca.pem -keystore p12/truststore.jks -storepass changeit -alias externalca</code></div>
</div>
    </div>
</li><li class=" "><p   
>Redeploy EJBCA truststore using <tt class=" ">ant deploy-keystore</tt> and restart the application server to make sure the new truststore is in use</p>
</li><li class=" "><p   
>Import the CA-certificate under <strong class=" ">CA UI &gt; Certificate Authorities &gt; Import CA Certificate</strong> or use the CLI.</p>
</li><li class=" "><p   
>Add the Administrator to the desired role under <strong class=" ">CA UI &gt; Administrator Roles</strong>.</p>
</li><li class=" "><p   
>To allow administrators to log in when their certificates are not present in the EJBCA database, set <strong class=" ">web.reqcertindb=false</strong> in <i class=" ">conf/web.properties</i>.</p>
</li></ol>    </div>
    <div class="section section-1" id="src-55607361_id-.RolesandAccessRulesOperationsv7.1.0-InstallingEJBCAwithExternalAdministrators">
        <h1 class="heading "><span>Installing EJBCA with External Administrators</span></h1>
<p   
>You can install an EJBCA instance from scratch, with a certificate from an external CA as the initial SuperAdmin certificate.</p>
<p   
>Start with deploying EJBCA as usual with <tt class=" ">ant deploy</tt>, but instead of running <tt class=" ">ant install</tt>, run the following to import the certificate of the external Administration CA and initialize the authorization system of EJBCA:</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">bin/ejbca.sh ca importcacert ManagementCA ManagementCA.cacert.pem -initauthorization -superadmincn SuperAdmin</code></div>
</div>
    </div>
<p   
>You need to configure TLS and the truststore of the application server yourself, or if you have a p12/tomcat.jks and p12/truststore.jks this can be done for you on JBoss by <tt class=" ">ant deploy-keystore</tt> in the same way as configuring TLS as described in <a   href="Application_Servers.html">Application Servers</a>.</p>
<p   
>The initial administrator that is set up has DN <strong class=" ">CN=SuperAdmin</strong>, but you can change this using the <strong class=" ">-superadmincn</strong> (run <tt class=" ">bin/ejbca.sh ca importcacert</tt> for documentation). You can also run the <tt class=" ">bin/ejbca.sh admins</tt> command for information on how to configure other admins.</p>
<p   
>After this command is run and TLS is correctly configured, you can log in to EJBCA and create your CAs in the CA UI. No initial CA is created for you.</p>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Peer_Systems_Operations.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Peer Systems Operations</span>
        </a>
                <a href="Managing_Role_Namespaces.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Managing Role Namespaces</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
